{"pages":[{"title":"","text":"google-site-verification: google680ee4af6a857859.html","link":"/google680ee4af6a857859.html"},{"title":"about","text":"è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä»€ä¹ˆéƒ½æ²¡å†™~","link":"/about/index.html"},{"title":"tags","text":"","link":"/tags/index.html"},{"title":"å‹æƒ…é“¾æ¥-ä½ æˆ‘ä»–","text":"","link":"/links/index.html"}],"posts":[{"title":"Gitlab CEä½¿ç”¨drbdå®ç°ä¸»å¤‡æ–¹æ¡ˆ","text":"ç—›ç‚¹ç”±äºGitlabç¤¾åŒºç‰ˆæ˜¯ä¸æä¾›é«˜å¯ç”¨ç­‰æ–¹æ¡ˆçš„ï¼Œåªèƒ½å®šæ—¶å¤‡ä»½å‡ºæ¥ç„¶åå‡ºé—®é¢˜äº†å†å¯¼å…¥ï¼Œæœ‰æ—¶å€™ä¼šä¸¢å¤±æ•°æ®ï¼Œè€Œä¸”è€—æ—¶éšç€å¤‡ä»½æ–‡ä»¶å¤§å°å¢åŠ ï¼ŒåæœŸç»´æŠ¤æˆæœ¬é«˜ã€‚ è§£å†³æ€è·¯åœ¨æœç´¢äº†å¤§é‡çš„æ–¹æ¡ˆä¹‹åï¼Œåªæœ‰ä½¿ç”¨drbdçš„æ‰æ˜¯é è°±çš„ï¼Œè€Œä¸”æ¯”è¾ƒå®¹æ˜“è·Ÿç°æœ‰çš„ç»“åˆï¼Œå€¼å¾—å°è¯•ã€‚ å®‰è£…drbdè¿™é‡Œéƒ½æ˜¯å‚è€ƒäº† csdnåšä¸»çš„ https://blog.csdn.net/allway2/article/details/102478719 DRBDä½¿ç”¨LVMé€»è¾‘å·ä½œä¸ºåç«¯è®¾å¤‡åˆ›å»ºXFSæ–‡ä»¶ç³»ç»Ÿåœ¨çº¿æ·»åŠ ç£ç›˜æ‰©å®¹æ“ä½œè¿‡ç¨‹#### 0.æœåŠ¡å™¨ç¯å¢ƒä¿¡æ¯drbd1 192.168.111.132 CentOS 7drbd2 192.168.111.190 CentOS 7#### 1ã€ç¦ç”¨SELinuxåœ¨ä¸¤ä¸ªèŠ‚ç‚¹æ‰§è¡Œï¼š # setenforce 0##### æ°¸ä¹…å…³é—­å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶/etc/selinux/config,å°†å…¶ä¸­SELINUXè®¾ç½®ä¸ºdisabledã€‚1234567891011121314151617[root@localhost ~]# cat /etc/selinux/config # This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. #SELINUX=enforcing SELINUX=disabled # SELINUXTYPE= can take one of three two values: # targeted - Targeted processes are protected, # minimum - Modification of targeted policy. Only selected processes are protected. # mls - Multi Level Security protection. SELINUXTYPE=targeted# sestatus SELinux status: disabledå…³é—­firewallï¼š12systemctl stop firewalld.service #åœæ­¢firewallsystemctl disable firewalld.service #ç¦æ­¢firewallå¼€æœºå¯åŠ¨è®¾ç½®ä¸»æœºåï¼š12hostnamectl set-hostname drbd1hostnamectl set-hostname drbd2#### 2ã€å®‰è£…DRBDåœ¨ä¸¤ä¸ªèŠ‚ç‚¹æ‰§è¡Œï¼š123456# rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org# rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm# yum install drbd90-utils kmod-drbd90# lsmod | grep -i drbd# modprobe drbd# echo drbd &gt; /etc/modules-load.d/drbd.conf#### 3ã€é…ç½®DRBDåœ¨ä¸¤ä¸ªèŠ‚ç‚¹æ‰§è¡Œï¼š1234567891011121314151617181920212223242526# mv /etc/drbd.d/global_common.conf /etc/drbd.d/global_common.conf.orig# vi /etc/drbd.d/global_common.confglobal { usage-count no;}common { net { protocol C; }}# vi /etc/drbd.d/drbd0.resresource drbd0 { disk /dev/drbdvg/drbdlv; device /dev/drbd0; meta-disk internal; on hostname1 { address 192.168.111.132:7789; } on hostname2 { address 192.168.111.190:7789; }}123456789# pvcreate /dev/sdb# vgcreate drbdvg /dev/sdb# lvcreate -l 100%VG -n drbdlv drbdvg# lvscan# drbdadm create-md drbd0# systemctl start drbd# drbdadm status# cat /proc/drbdåœ¨ä¸»èŠ‚ç‚¹æ‰§è¡Œï¼š12345678910# drbdadm primary drbd0 --force# mkfs.xfs /dev/drbd0# mount /dev/drbd0 /mnt# touch /mnt/file{1..5}# ls -l /mnt/# df -hT# vgdisplay# pvdisplay# lvdisplay#### 4ã€åœ¨çº¿æ‰©å®¹åœ¨ä¸¤ä¸ªèŠ‚ç‚¹æ‰§è¡Œï¼š123456789# lsblk# pvcreate /dev/sdc# pvdisplay# vgdisplay# vgextend drbdvg /dev/sdc# lvs# lvdisplay# lvextend -l+100%FREE /dev/drbdvg/drbdlv# lvsç­‰å¾…æ•°æ®åŒæ­¥å®Œæˆ1# watch drbdadm statusåœ¨ä¸»èŠ‚ç‚¹æ‰§è¡Œï¼š1234# drbdadm resize drbd0# xfs_growfs /mnt# df -hTæ‰©å®¹å®Œæˆï¼Œç­‰å¾…æ‰©å®¹æ•°æ®åŒæ­¥å®Œæˆ# watch drbdadm statusåŒæ­¥å®Œæˆåå¯ä»¥è¿›è¡Œåˆ‡æ¢æµ‹è¯•åœ¨ä¸»èŠ‚ç‚¹æ‰§è¡Œï¼š# umount /mnt/åœ¨ä»èŠ‚ç‚¹æ‰§è¡Œï¼š123456# mount /dev/drbd0 /mnt# ls -l /mnt/# df -hT# touch /mnt/file{11..15}# ls -l /mnt/# umount /mntåœ¨ä¸»èŠ‚ç‚¹æ‰§è¡Œï¼š12# mount /dev/drbd0 /mnt# ls -l /mnt åº”ç”¨åˆ°Gitlabå¦‚æœå·²ç»åœ¨è¿è¡Œäº†ï¼Œé‚£å¯ä»¥åœ¨è¿è¡Œçš„æœºå™¨ä¸ŠæŒ‚è½½å¦å¤–ä¸€å—ç¡¬ç›˜ï¼Œæ–°å¼€ä¸€å°æœºå™¨ï¼Œè¿™ä¿©ä½œä¸ºdrbdçš„ä¸»å¤‡ï¼Œå°†è¿è¡Œçš„gitlab dataæ•°æ®rsyncåˆ°drbdç®¡ç†çš„é‚£å—ç›˜ä¸Šå³å¯ ç„¶åæ”¹ä¸€ä¸‹gitlabçš„dataä½ç½®ï¼Œé‡å¯ä¸€ä¸‹æˆ–è€…reconfigureä¸€ä¸‹å³å¯ã€‚","link":"/2021/04/16/Gitlab-CE%E4%BD%BF%E7%94%A8drbd%E5%AE%9E%E7%8E%B0%E4%B8%BB%E5%A4%87%E6%96%B9%E6%A1%88/"},{"title":"Docker on SailfishOS","text":"How to install Docker on SailfishOS/å¦‚ä½•å°†Dockerå®‰è£…åˆ°SailfishOSThis post will show you how to install Docker on SailfishOS, and some hacks need to do. è¿™ç¯‡æ–‡ç« å°†ä»‹ç»å¦‚ä½•å°†Dockerå®‰è£…åˆ°SailfishOSä¸Šï¼Œå’Œéœ€è¦åšçš„ä¸€äº›hackã€‚ Prerequisites/å…ˆå†³æ¡ä»¶https://docs.docker.com/install/linux/docker-ce/binaries/#install-daemon-and-client-binaries-on-linux A 64-bit installation Version 3.10 or higher of the Linux kernel. The latest version of the kernel available for you platform is recommended. iptables version 1.4 or higher git version 1.7 or higher A ps executable, usually provided by procps or a similar package. XZ Utils 4.9 or higher A properly mounted cgroupfs hierarchy; a single, all-encompassing cgroup mount point is not sufficient. See Github issues #2683, #3485, #4568). 64ä½ç³»ç»Ÿ 3.10å†…æ ¸æˆ–æ›´é«˜ iptableç‰ˆæœ¬è‡³å°‘æ˜¯1.4 gitç‰ˆæœ¬è‡³å°‘1.7 å¯ä»¥æ‰§è¡Œps xzå·¥å…·ç‰ˆæœ¬è‡³å°‘4.9 æ­£ç¡®å®‰è£…çš„cgroupfså±‚æ¬¡ç»“æ„; ä¸€ä¸ªå•ä¸€çš„ï¼Œæ— æ‰€ä¸åŒ…çš„cgroupæŒ‚è½½ç‚¹æ˜¯ä¸å¤Ÿçš„ã€‚ Check Kernel support/æ£€æŸ¥å†…æ ¸æ”¯æŒUse this script check-config.shä½¿ç”¨è¿™ä¸ªè„šæœ¬ check-config.sh 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108[nemo@Sailfish ~]$ ./check-config.sh info: reading kernel config from /proc/config.gz ...Generally Necessary:- cgroup hierarchy: properly mounted [/sys/fs/cgroup]- CONFIG_NAMESPACES: enabled- CONFIG_NET_NS: enabled- CONFIG_PID_NS: enabled- CONFIG_IPC_NS: enabled- CONFIG_UTS_NS: enabled- CONFIG_CGROUPS: enabled- CONFIG_CGROUP_CPUACCT: enabled- CONFIG_CGROUP_DEVICE: enabled- CONFIG_CGROUP_FREEZER: enabled- CONFIG_CGROUP_SCHED: enabled- CONFIG_CPUSETS: enabled- CONFIG_MEMCG: enabled- CONFIG_KEYS: enabled- CONFIG_VETH: enabled- CONFIG_BRIDGE: enabled- CONFIG_BRIDGE_NETFILTER: enabled (as module)- CONFIG_NF_NAT_IPV4: enabled- CONFIG_IP_NF_FILTER: enabled- CONFIG_IP_NF_TARGET_MASQUERADE: enabled- CONFIG_NETFILTER_XT_MATCH_ADDRTYPE: enabled- CONFIG_NETFILTER_XT_MATCH_CONNTRACK: enabled- CONFIG_NETFILTER_XT_MATCH_IPVS: enabled- CONFIG_IP_NF_NAT: enabled- CONFIG_NF_NAT: enabled- CONFIG_NF_NAT_NEEDED: enabled- CONFIG_POSIX_MQUEUE: enabled- CONFIG_DEVPTS_MULTIPLE_INSTANCES: enabledOptional Features:- CONFIG_USER_NS: enabled- CONFIG_SECCOMP: enabled- CONFIG_CGROUP_PIDS: missing- CONFIG_MEMCG_SWAP: enabled- CONFIG_MEMCG_SWAP_ENABLED: enabled (cgroup swap accounting is currently enabled)- CONFIG_MEMCG_KMEM: enabled- CONFIG_RESOURCE_COUNTERS: enabled- CONFIG_BLK_CGROUP: enabled- CONFIG_BLK_DEV_THROTTLING: missing- CONFIG_IOSCHED_CFQ: enabled- CONFIG_CFQ_GROUP_IOSCHED: missing- CONFIG_CGROUP_PERF: enabled- CONFIG_CGROUP_HUGETLB: missing- CONFIG_NET_CLS_CGROUP: enabled- CONFIG_CGROUP_NET_PRIO: enabled- CONFIG_CFS_BANDWIDTH: missing- CONFIG_FAIR_GROUP_SCHED: enabled- CONFIG_RT_GROUP_SCHED: enabled- CONFIG_IP_VS: enabled- CONFIG_IP_VS_NFCT: enabled- CONFIG_IP_VS_RR: enabled- CONFIG_EXT3_FS: enabled- CONFIG_EXT3_FS_XATTR: enabled- CONFIG_EXT3_FS_POSIX_ACL: enabled- CONFIG_EXT3_FS_SECURITY: enabled- CONFIG_EXT4_FS: enabled- CONFIG_EXT4_FS_POSIX_ACL: missing- CONFIG_EXT4_FS_SECURITY: enabled enable these ext4 configs if you are using ext4 as backing filesystem- Network Drivers: - &quot;overlay&quot;: - CONFIG_VXLAN: enabled Optional (for encrypted networks): - CONFIG_CRYPTO: enabled - CONFIG_CRYPTO_AEAD: enabled - CONFIG_CRYPTO_GCM: enabled - CONFIG_CRYPTO_SEQIV: enabled - CONFIG_CRYPTO_GHASH: enabled - CONFIG_XFRM: enabled - CONFIG_XFRM_USER: enabled - CONFIG_XFRM_ALGO: enabled - CONFIG_INET_ESP: enabled - CONFIG_INET_XFRM_MODE_TRANSPORT: enabled - &quot;ipvlan&quot;: - CONFIG_IPVLAN: missing - &quot;macvlan&quot;: - CONFIG_MACVLAN: enabled - CONFIG_DUMMY: missing - &quot;ftp,tftp client in container&quot;: - CONFIG_NF_NAT_FTP: enabled - CONFIG_NF_CONNTRACK_FTP: enabled - CONFIG_NF_NAT_TFTP: enabled - CONFIG_NF_CONNTRACK_TFTP: enabled- Storage Drivers: - &quot;aufs&quot;: - CONFIG_AUFS_FS: missing - &quot;btrfs&quot;: - CONFIG_BTRFS_FS: enabled - CONFIG_BTRFS_FS_POSIX_ACL: enabled - &quot;devicemapper&quot;: - CONFIG_BLK_DEV_DM: enabled - CONFIG_DM_THIN_PROVISIONING: missing - &quot;overlay&quot;: - CONFIG_OVERLAY_FS: enabled - &quot;zfs&quot;: - /dev/zfs: missing - zfs command: missing - zpool command: missingLimits:- /proc/sys/kernel/keys/root_maxkeys: 1000000[nemo@Sailfish ~]$ Generally Necessary must be all enabled, if not enabled, you must enable it in your kernel defconfig, and rebuild kernel.Generally Necessary éƒ¨åˆ†å¿…é¡»å…¨éƒ¨æ˜¯enabled, å¦‚æœæ²¡æœ‰å¯ç”¨ï¼Œå¿…é¡»å¯ç”¨ç„¶åé‡å¯ç¼–è¯‘å†…æ ¸ã€‚ Download the static binary archive/ä¸‹è½½é™æ€äºŒè¿›åˆ¶æ–‡ä»¶https://download.docker.com/linux/static/stable/aarch64/ Extract the archive and put them to /usr/bin/, 18.06 is a working version. Add nemo to docker group/å°†nemoç”¨æˆ·æ·»åŠ åˆ°dockerç»„12groupadd dockerusermod -a -G docker nemo Run Docker/å¯åŠ¨DockerStart docker daemon/ å¯åŠ¨dockerå®ˆæŠ¤è¿›ç¨‹devel-su /usr/bin/dockerd Or use systemd/ æˆ–è€…ä½¿ç”¨systemd 12345678910111213141516171819202122[Unit]Description=Docker Application Container EngineDocumentation=https://docs.docker.comAfter=network-online.target firewalld.serviceWants=network-online.target[Service]Type=notifyExecStart=/usr/bin/dockerdExecReload=/bin/kill -s HUP $MAINPIDLimitNOFILE=infinityLimitNPROC=infinityLimitCORE=infinityTimeoutStartSec=0KillMode=processRestart=on-failureStartLimitBurst=3StartLimitInterval=60s[Install]WantedBy=multi-user.target Check version/æ£€æŸ¥ç‰ˆæœ¬1234567891011121314151617181920[root@Sailfish nemo]# docker versionClient: Version: 18.06.1-ce API version: 1.38 Go version: go1.10.3 Git commit: e68fc7a Built: Tue Aug 21 17:20:38 2018 OS/Arch: linux/arm64 Experimental: falseServer: Engine: Version: 18.06.1-ce API version: 1.38 (minimum version 1.12) Go version: go1.10.3 Git commit: e68fc7a Built: Tue Aug 21 17:27:20 2018 OS/Arch: linux/arm64 Experimental: false Test/æµ‹è¯•devel-su docker run hello-world This command downloads a test image and runs it in a container. When the container runs, it prints an informational message and exits. / è¿™ä¸ªå‘½ä»¤ä¼šä¸‹è½½ä¸€ä¸ªæµ‹è¯•é•œåƒï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸä¼šæ‰“å°å¦‚ä¸‹ä¿¡æ¯ 123456789101112131415161718192021222324252627[root@Sailfish nemo]# docker run hello-worldUnable to find image 'hello-world:latest' locallylatest: Pulling from library/hello-world255483503861: Pull complete Digest: sha256:4b8ff392a12ed9ea17784bd3c9a8b1fa3299cac44aca35a85c90c5e3c7afacdcStatus: Downloaded newer image for hello-world:latestHello from Docker!This message shows that your installation appears to be working correctly.To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub. (arm64v8) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal.To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bashShare images, automate workflows, and more with a free Docker ID: https://hub.docker.com/For more examples and ideas, visit: https://docs.docker.com/engine/userguide/ Test network mapping /æµ‹è¯•ç½‘ç»œæ˜ å°„On one terminal/åœ¨ä¸€ä¸ªç»ˆç«¯ä¸­æ‰§è¡Œ123[root@Sailfish nemo]# docker run -it --rm -p 6080:80 nginx:latest 172.17.0.1 - - [05/Sep/2018:08:54:52 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.58.0-DEV&quot; &quot;-&quot;172.17.0.1 - - [05/Sep/2018:08:55:51 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.58.0-DEV&quot; &quot;-&quot; Vist on another terminal/åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­è®¿é—®123456789101112131415161718192021222324252627[nemo@Sailfish ~]$ curl -s 127.0.0.1:6080&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Welcome to nginx!&lt;/title&gt;&lt;style&gt; body { width: 35em; margin: 0 auto; font-family: Tahoma, Verdana, Arial, sans-serif; }&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;&lt;p&gt;If you see this page, the nginx web server is successfully installed andworking. Further configuration is required.&lt;/p&gt;&lt;p&gt;For online documentation and support please refer to&lt;a href=&quot;http://nginx.org/&quot;&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;Commercial support is available at&lt;a href=&quot;http://nginx.com/&quot;&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;[nemo@Sailfish ~]$ TODOWayland forward /waylandè½¬å‘ Reference/å‚è€ƒ: https://unix.stackexchange.com/questions/330366/how-can-i-run-a-graphical-application-in-a-container-under-wayland http://fabiorehm.com/blog/2014/09/11/running-gui-apps-with-docker/ Have fun ;)","link":"/2018/09/05/Docker-on-SailfishOS/"},{"title":"Javaä¸Pythonå®‰å…¨è½¬ç é“¾æ¥","text":"Java12345678String OriginUrl = &quot;https://meijumao.cn/yunparse/index.php?url=//ç¾å‰§/å‘¨ä¸€/GOTæƒæ¸¸/S07/Online/02æŒ‰æ—¶å‘è¾¾çš„ååˆ†.mp4~bdyun&quot;;URL repoUrl = new URL(OriginUrl);URI uri;try { uri = new URI(repoUrl.getProtocol(), repoUrl.getUserInfo(), repoUrl.getHost(), repoUrl.getPort(), repoUrl.getPath(), repoUrl.getQuery(), repoUrl.getRef()); System.out.println(uri.toASCIIString());} catch (URISyntaxException e) {} Pythonpython3:123456import stringimport urllib.parseurl = &quot;https://meijumao.cn/yunparse/index.php?url=//ç¾å‰§/å‘¨ä¸€/GOTæƒæ¸¸/S07/Online/02æŒ‰æ—¶å‘è¾¾çš„ååˆ†.mp4~bdyun&quot;print(urllib.parse.quote(url,safe=string.printable)) python2:123456import stringfrom urllib import quoteurl = &quot;https://meijumao.cn/yunparse/index.php?url=//ç¾å‰§/å‘¨ä¸€/GOTæƒæ¸¸/S07/Online/02æŒ‰æ—¶å‘è¾¾çš„ååˆ†.mp4~bdyun&quot;print urllib.parse.quote(url,safe=string.printable) ç»“æœ 'https://meijumao.cn/yunparse/index.php?url=//%E7%BE%8E%E5%89%A7/%E5%91%A8%E4%B8%80/GOT%E6%9D%83%E6%B8%B8/S07/Online/02%E6%8C%89%E6%97%B6%E5%8F%91%E8%BE%BE%E7%9A%84%E5%8D%81%E5%88%86.mp4~bdyun","link":"/2017/08/21/Java%E4%B8%8EPython%E5%AE%89%E5%85%A8%E8%BD%AC%E7%A0%81%E9%93%BE%E6%8E%A5/"},{"title":"Java è§£æjsonæ•°ç»„å­—ç¬¦ä¸²ä¸ºJavaå¯¹è±¡","text":"å¥—ç”¨ç½—é”¤å­çš„è¯ï¼šè¿™å¯èƒ½æ˜¯æœ€æ–¹ä¾¿å¿«æ·çš„æ–¹å¼äº† jsonå­—ç¬¦ä¸²ï¼š123456[{ &quot;number&quot; : &quot;3&quot;, &quot;title&quot; : &quot;hello_world&quot; },{ &quot;number&quot; : &quot;2&quot;, &quot;title&quot; : &quot;hello_world&quot; }] Javaä»£ç ï¼š1234567class Wrapper{ int number; String title; }Gson gson = new Gson();Wrapper[] data = gson.fromJson(idcstring, Wrapper[].class);","link":"/2017/06/02/Java-%E8%A7%A3%E6%9E%90json%E6%95%B0%E7%BB%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BAJava%E5%AF%B9%E8%B1%A1/"},{"title":"Nginxè·å–ç”¨æˆ·çœŸå®IP","text":"é¦–å…ˆå¼ºè°ƒçš„æ˜¯ï¼Œè¿™é‡Œéœ€è¦ä¸¤å±‚nginxï¼Œç”¨æˆ·è®¿é—®nginx1ï¼Œè½¬å‘åˆ°nginx2(192.168.1.111)ï¼Œnginx2åˆ°çœŸå®åç«¯ã€‚ nginx1 é…ç½®12345678910server{ ... listen 8888; location /test { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forward-For $remote_addr; proxy_pass http://nginx2:8888/test2; }} nginx2 é…ç½®123456789server{ ... listen 8888; location /test2 { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-real-ip $remote_addr; default_type text/html; return 200 'This is text!'; } æµ‹è¯•ç”¨æˆ·è®¿é—®1curl -i -H &quot;X-Forwarded-For: 110.110.110.110&quot; -H &quot;X-real-ip: 110.110.110.110&quot; -s nginx1:8888/test -v nginx1 æ—¥å¿—ï¼š1192.168.1.110 0.000 - [12/Sep/2018:11:01:51 +0800] &quot;GET /test HTTP/1.1&quot; 200 13 - &quot;-&quot; &quot;curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.19.1 Basic ECC zlib/1.2.3 libidn/1.18 libssh2/1.4.2&quot; 110.110.110.110 110.110.110.110 nginx2 æ—¥å¿—ï¼š1192.168.1.111 0.000 - [12/Sep/2018:11:01:51 +0800] &quot;GET /test2 HTTP/1.1&quot; 200 13 - &quot;-&quot; &quot;curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.19.1 Basic ECC zlib/1.2.3 libidn/1.18 libssh2/1.4.2&quot; 192.168.1.110 110.110.110.110å…¶ä¸­192.168.1.111ä¸ºnginx1çš„ip å¯ä»¥çœ‹åˆ°ï¼Œåœ¨nginx2ä¸­å¯ä»¥æ‹¿X-real-ipè·å–ç”¨æˆ·çš„çœŸå®ipï¼Œåœ¨åç«¯ä¸­å¯ä»¥æ‹¿è¿™ä¸ªå¤´ä¿¡æ¯ã€‚ æ³¨æ„ï¼å¿…é¡»è¦è§„å®šå¥½nginxæ˜¯åœ¨æ¶æ„çš„å“ªä¸€å±‚çº§ï¼Œæ ¹æ®æ‰€å¤„çš„å±‚çº§é…ç½®ï¼Œå¦åˆ™è¯¥æ–¹æ³•æ— æ•ˆã€‚","link":"/2018/09/12/Nginx%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E7%9C%9F%E5%AE%9EIP/"},{"title":"Javaæ”¹å†™HttpServletRequestè¯·æ±‚å‚æ•°","text":"ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªéœ€æ±‚å‘¢ï¼Ÿ å› ä¸ºè¢« cas çš„AuthenticationFilterå‘äº† ä¸‹ä¸€ç¯‡å†è¯´ä¸€ä¸‹AuthenticationFilterçš„å‘ï¼Œè¿™é‡Œä¸»è¦è¯´ä¿®æ”¹è¯·æ±‚çš„å‚æ•° ä»£ç æ˜¯ä»ç½‘ä¸Šæ‰¾çš„ï¼Œæ‰¾ä¸åˆ°å…·ä½“æ¥æºäº†ï¼Œç›´æ¥è´´ä»£ç å§ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081package com.birdzhang.plugin;import java.util.Collections;import java.util.Enumeration;import java.util.HashMap;import java.util.Map;import java.util.TreeMap;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletRequestWrapper;/** * @author birdzhang * */public class PrettyFacesWrappedRequest extends HttpServletRequestWrapper{ private final Map&lt;String, String[]&gt; modifiableParameters; private Map&lt;String, String[]&gt; allParameters = null; /** * Create a new request wrapper that will merge additional parameters into * the request object without prematurely reading parameters from the * original request. * * @param request * @param additionalParams */ public PrettyFacesWrappedRequest(final HttpServletRequest request, final Map&lt;String, String[]&gt; additionalParams) { super(request); modifiableParameters = new HashMap&lt;String, String[]&gt;(); modifiableParameters.putAll(additionalParams); } @Override public String getParameter(final String name) { String[] strings = getParameterMap().get(name); if (strings != null) { return strings[0]; } return super.getParameter(name); } @Override public Map&lt;String, String[]&gt; getParameterMap() { if (allParameters == null) { allParameters = new TreeMap&lt;String, String[]&gt;(); Map&lt;String, String[]&gt; superMap = super.getParameterMap(); // åœ¨è¿™é‡Œæ ¹æ®ä½ çš„éœ€è¦ä¿®æ”¹ for (String key : superMap.keySet()) { if(key.equals(&quot;ticket&quot;)) { allParameters.put(&quot;token&quot;, superMap.get(key)); }else { allParameters.put(key, superMap.get(key)); } } allParameters.putAll(modifiableParameters); } //Return an unmodifiable collection because we need to uphold the interface contract. return Collections.unmodifiableMap(allParameters); } @Override public Enumeration&lt;String&gt; getParameterNames() { return Collections.enumeration(getParameterMap().keySet()); } @Override public String[] getParameterValues(final String name) { return getParameterMap().get(name); }} ä½¿ç”¨: 1234Map&lt;String, String[]&gt; extraParams = new HashMap&lt;String, String[]&gt;();HttpServletRequest wrappedRequest = new PrettyFacesWrappedRequest(request, extraParams);request.getRequestDispatcher(request.getRequestURI()).forward(wrappedRequest, response);return; å®Œç¾çš„å°†ticketå‚æ•°æ›¿æ¢ä¸ºtokenå‚æ•°","link":"/2018/05/15/Java%E6%94%B9%E5%86%99HttpServletRequest%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/"},{"title":"No subject alternative DNS name matching xxx.com found","text":"[TOC] æ•…äº‹ç»è¿‡ TLDR;æ•…äº‹å¤ªé•¿ï¼Œå¯ä»¥ç›´æ¥çœ‹è¿™é‡Œ è§£å†³ æ˜¨å¤©ä¸‹åˆï¼Œçªç„¶æœ‰åŒäº‹è¯´OAæ‰“ä¸å¼€äº†ï¼Œæ‰“å¼€é¡µé¢ä¸€çœ‹å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š 1234567891011121314151617181920212223242526272829500 Servlet Exception[show] java.security.cert.CertificateException: No subject alternative DNS namematching xxx.com found.java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException:No subject alternative DNS name matching xxx.com found. at org.jasig.cas.client.util.CommonUtils.getResponseFromServer(CommonUtils.java:328) at org.jasig.cas.client.util.CommonUtils.getResponseFromServer(CommonUtils.java:291) at org.jasig.cas.client.validation.AbstractCasProtocolUrlBasedTicketValidator.retrieveResponseFromServer(AbstractCasProtocolUrlBasedTicketValidator.java:32) at org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator.validate(AbstractUrlBasedTicketValidator.java:187) at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:164) at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87) at com.xxx.plugin.AuthenticationFilter.doFilter(AuthenticationFilter.java:163) at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87) at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:65) at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87) at com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:187) at com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:265) at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:273) at com.caucho.server.port.TcpConnection.run(TcpConnection.java:682) at com.caucho.util.ThreadPool$Item.runTasks(ThreadPool.java:730) at com.caucho.util.ThreadPool$Item.run(ThreadPool.java:649) at java.lang.Thread.run(Thread.java:662)Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException:No subject alternative DNS name matching xxx.com found. at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174) at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1699) at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:241) at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:235) å†…å¿ƒä¸­ç¬¬ä¸€ååº”æ˜¯è¯ä¹¦çš„é—®é¢˜ï¼Œäºæ˜¯èµ¶ç´§ä¸ŠcasæœåŠ¡å™¨æŸ¥çœ‹æ—¥å¿—ï¼Œä¸€åˆ‡æ­£å¸¸ğŸ˜µç„¶åä¸ŠOAçš„æœåŠ¡å™¨ï¼Œå°†è¯ä¹¦å¯¼å…¥ï¼Œé‡å¯æœåŠ¡ï¼Œè¯¥æ˜¯ä»€ä¹ˆé”™è¿˜æ˜¯ä»€ä¹ˆé”™ã€‚ã€‚ã€‚ ä¸Šè°·æ­Œä¸€æŸ¥ï¼Œåº”è¯¥æ˜¯åŒ¹é…ä¸åˆ°è¯ä¹¦é‡Œçš„DNSåï¼Œä½†æ˜¯ç¡®å®æ˜¯æœ‰çš„å‘€ã€‚ ç”±äºè¿˜æœ‰å…¶ä»–javaç³»ç»Ÿæ¥å…¥äº†CASç™»å½•ï¼Œéƒ½æ˜¯æ­£å¸¸çš„ï¼Œäºæ˜¯å¼€å§‹æ€€ç–‘æ˜¯OAé‚£å°çš„æœ‰é—®é¢˜ï¼Œå¼€å§‹æŸ¥çœ‹æ˜¯ä¸æ˜¯æœ‰äººæœ€è¿‘æ”¹åŠ¨è¿‡ä»€ä¹ˆ ç„¶é¹…å¹¶æ²¡æœ‰ã€‚ã€‚ã€‚ ç„¶åæŸ¥çœ‹OAçš„æ—¥å¿—ï¼ˆç”¨çš„Resinä¸­é—´ä»¶ã€‚ã€‚ã€‚å‘ç°å¦‚ä¸‹é”™è¯¯ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142[17:00:15.288] {http--8080-6$1533061820} java.lang.RuntimeException: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching auth.corp.flamingo-inc.com found.[17:00:15.288] {http--8080-6$1533061820} at org.jasig.cas.client.util.CommonUtils.getResponseFromServer(CommonUtils.java:295)[17:00:15.288] {http--8080-6$1533061820} at org.jasig.cas.client.validation.AbstractCasProtocolUrlBasedTicketValidator.retrieveResponseFromServer(AbstractCasProtocolUrlBasedTicketValidator.java:33)[17:00:15.288] {http--8080-6$1533061820} at org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator.validate(AbstractUrlBasedTicketValidator.java:178)[17:00:15.288] {http--8080-6$1533061820} at org.jasig.cas.client.validation.AbstractTicketValidationFilter.doFilter(AbstractTicketValidationFilter.java:132)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87)[17:00:15.288] {http--8080-6$1533061820} at com.xxx.plugin.AuthenticationFilter.doFilter(AuthenticationFilter.java:163)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87)[17:00:15.288] {http--8080-6$1533061820} at org.jasig.cas.client.session.SingleSignOutFilter.doFilter(SingleSignOutFilter.java:110)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:187)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:265)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:273)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.server.port.TcpConnection.run(TcpConnection.java:682)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.util.ThreadPool$Item.runTasks(ThreadPool.java:730)[17:00:15.288] {http--8080-6$1533061820} at com.caucho.util.ThreadPool$Item.run(ThreadPool.java:649)[17:00:15.288] {http--8080-6$1533061820} at java.lang.Thread.run(Thread.java:662)[17:00:15.288] {http--8080-6$1533061820} Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching auth.corp.flamingo-inc.com found.[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1699)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:241)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:235)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1206)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:136)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:593)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:529)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:893)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1165)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1149)[17:00:15.288] {http--8080-6$1533061820} at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:434)[17:00:15.288] {http--8080-6$1533061820} at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)[17:00:15.288] {http--8080-6$1533061820} at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1172)[17:00:15.288] {http--8080-6$1533061820} at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:234)[17:00:15.288] {http--8080-6$1533061820} at org.jasig.cas.client.util.CommonUtils.getResponseFromServer(CommonUtils.java:281)[17:00:15.288] {http--8080-6$1533061820} ... 15 more[17:00:15.288] {http--8080-6$1533061820} Caused by: java.security.cert.CertificateException: No subject alternative DNS name matching auth.corp.flamingo-inc.com found.[17:00:15.288] {http--8080-6$1533061820} at sun.security.util.HostnameChecker.matchDNS(HostnameChecker.java:193)[17:00:15.288] {http--8080-6$1533061820} at sun.security.util.HostnameChecker.match(HostnameChecker.java:77)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:264)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:250)[17:00:15.288] {http--8080-6$1533061820} at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1185) å¼€å§‹æ€€ç–‘æ˜¯æˆ‘å†™çš„AuthenticationFilterçš„é”…ï¼Œäºæ˜¯ç”¨äº†ä¸ªæ–°ç‰ˆæœ¬çš„cas-client-coreï¼Œä¾ç„¶ä¸è¡Œ å¼€å§‹å‡çº§jdkï¼Œç”±äºæ˜¯windowsï¼Œç›´æ¥å®‰è£…çš„exeï¼Œç„¶åæ”¹äº†å¯åŠ¨è„šæœ¬é‡Œé¢çš„JAVA_HOMEï¼Œé‡å¯ä¾ç„¶å‘ç°ä¸è¡Œã€‚ã€‚ã€‚ (((Ï†(â—ãƒ­â—;)Ï†))) äºæ˜¯æš‚æ—¶å›é€€åˆ°äº†æ²¡æœ‰ç”¨CASæ¥å…¥çš„ç‰ˆæœ¬ï¼Œä¸‹ç­äº†ã€‚ã€‚ã€‚ ä»Šå¤©å›æ¥ä¸ç”˜å¿ƒå•Šï¼Œç»§ç»­å°è¯•è§£å†³ æ—¢ç„¶è¯ä¹¦æ‰¾ä¸åˆ°xxx.comï¼Œé‚£æˆ‘æ¢å°nginxç›´æ¥å†™hostè¯•è¯•ï¼Ÿ æ›´æ–°äº†ä¸€ä¸‹æµ‹æœnginxçš„è¯ä¹¦ï¼ŒOAä¸»æœºæŒ‡å®šæµ‹æœnginx ip ç„¶åï¼ï¼ï¼ï¼ å¯ä»¥äº†ï¼ï¼ï¼ï¼ ğŸ˜­ ç„¶åè·ŸåŒäº‹è°ƒè¯•äº†ä¸€ä¼šï¼Œå‘ç°ä»–æ˜¨å¤©ä¸‹åˆæ·»åŠ äº†ä¸€ä¸ªåŸŸåabc.comï¼Œç„¶åå¯¼è‡´äº†default_serverä¸æ˜¯adc.comäº†ã€‚ã€‚ã€‚ è§£å†³æ–¹æ³•æ›´æ–°ä¸€ä¸‹jdkå°±å¯ä»¥äº†ï¼ˆæ‘Šæ‰‹ï¼‰ï¼ŒOAç”¨çš„æ˜¯jdk1.6ï¼Œjdk1.6æ—§ç‰ˆæœ¬ä¸æ”¯æŒSNIï¼Œè‡³äºä»€ä¹ˆæ˜¯SNIç­‰ï¼Œçœ‹è¿™é‡Œ https://github.com/ditunes/blog/issues/13 ä¹‹å‰æ²¡æˆåŠŸæ˜¯å› ä¸ºwindowsçš„æœåŠ¡é‡Œé¢å†™æ­»äº†jdkçš„è·¯å¾„ã€‚ã€‚ã€‚","link":"/2018/06/26/No-subject-alternative-DNS-name-matching-xxx-com-found/"},{"title":"SailfishOSç§»æ¤åˆ°Redmi_K20çš„ä¸€äº›è®°å½•","text":"æºç åœ°å€ï¼šhttps://github.com/sailfish-on-davinci çœŸæœºæ¼”ç¤ºï¼šhttps://www.youtube.com/watch?v=J_3RLota6pY K20å‡ºå‚å³æ˜¯Android Pieç³»ç»Ÿï¼Œä¸å…¶ä»–å‡çº§ä¸Šå»çš„ä¸ä¸€æ ·ï¼Œéœ€è¦åšä¸€äº›å¤„ç† ç¦ç”¨bootæ ¡éªŒ avbï¼Œç„¶åæ‰å¯ä»¥åˆ·fastboot --disable-verity --disable-verification flash vbmeta vbmeta.img vbmeta.img ä»åº•åŒ…é‡Œé¢æå– â€¦ æœªå®Œå¾…ç»­","link":"/2019/12/30/SailfishOS%E7%A7%BB%E6%A4%8D%E5%88%B0Redmi-K20%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/"},{"title":"Pythonä¸€äº›æ¨¡å—å®‰è£…æ–¹æ³•è®°å½•","text":"é¦–å…ˆéœ€è¦å®‰è£…pipæ¨¡å—ï¼Œå¦‚æœyumä¸­æ²¡æœ‰ï¼Œåˆ™éœ€è¦ç”¨ get-pip.pyå®‰è£… sudo python get-pip.py å®‰è£… web.pysudo pip install web.py mysql.connector1234wget http://cdn.mysql.com/Downloads/Connector-Python/mysql-connector-python-1.0.11.zip unzip mysql-connector-python-1.0.11.zip cd mysql-connector-python-1.0.11 sudo python setup.py install pytdsï¼ˆè¿æ¥mssqlï¼‰12sudo pip install python-tds#sudo pip install bitarray anjuke(ä¸­æ–‡è½¬æ‹¼éŸ³)sudo pip install pinyin4py Python2.7å®‰è£…è¿™æ ·å®‰è£…ä¹‹åä¸ä¼šä¸ä¹‹å‰çš„python2.6ç‰ˆæœ¬æœ‰å†²çªï¼Œ3.xç‰ˆæœ¬åŒç† 12345wget https://www.python.org/ftp/python/2.7.8/Python-2.7.8.tgztar xf Python-2.7.8.tgzcd Python-2.7.8./configure --prefix=/usr/localmake &amp;&amp; make install","link":"/2017/05/27/Python%E4%B8%80%E4%BA%9B%E6%A8%A1%E5%9D%97%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95%E8%AE%B0%E5%BD%95/"},{"title":"SailfishOSç§»æ¤åˆ°Redmi-5-Plusçš„ä¸€äº›è®°å½•(2)","text":"æ¥ä¸Š https://birdzhang.xyz/2018/03/30/SailfishOS%E7%A7%BB%E6%A4%8D%E5%88%B0Redmi-5-Plus%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/ æœ¬æ–‡ç« ä¸»è¦é’ˆå¯¹ hybris 15.1çš„ç§»æ¤ æŒ‘é€‰è®¾å¤‡æºç mer-hybrisçš„android hybris-15.1æ˜¯åŸºäºlineageosçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ²¡æœ‰å®˜æ–¹/éå®˜æ–¹lineageosç”¨çš„æ—¶å€™,ä¹Ÿè¦æ‰¾åŸºäºlineageçš„ç¬¬ä¸‰æ–¹romï¼Œå¦‚å›½å†…çš„Mokeeï¼Œå›½å¤–çš„OmniROMç­‰ï¼Œåªéœ€è¦ç¨å¾®æ”¹ä¸€ç‚¹devicetreeå°±å¯ä»¥ç”¨äº† é€‚é…hybris-15.1çš„ä¸€äº›æ›´æ”¹ä¸€ã€Failed to initialize property areaç›®å‰çš„è§£å†³æ–¹æ³•æ˜¯æ³¨é‡Šæ‰è¿™ä¸ª, è¿˜æœ‰å¯èƒ½æ˜¯æ²¡æœ‰å…³é—­selinuxæˆ–è€…æ²¡æœ‰åˆå§‹åŒ–sailfishæ‰€éœ€è¦çš„android init rcæ–‡ä»¶æœ‰å…³ system/core/init/property_service.cpp, å°†72è¡Œçš„exit(1);æ³¨é‡Šæ‰ äºŒã€kernel,deviceéƒ¨åˆ† å†…æ ¸éƒ¨åˆ†ä¸»è¦éœ€è¦æ³¨æ„çš„æ˜¯ä½ çš„è®¾å¤‡æ˜¯å¦æ˜¯æœ‰ /vendoråˆ†åŒºçš„ï¼Œproject trebleçš„éƒ½ä¼šæœ‰ä¸€ä¸ªå•ç‹¬çš„/vendoråˆ†åŒºï¼Œè¿™ä¸ªéœ€è¦æ³¨æ„ã€‚ å¯ä»¥é€šè¿‡è¿™ä¸ªé‡ŒæŸ¥çœ‹ arch/arm/boot/dts/qcom/msm8953.dtsi (æ ¹æ®ä½ è‡ªå·±cpuæ¥åŒºåˆ†ï¼Œæ‰¾ä¸åˆ°çš„è¯å°±ç”¨grepæ‰¾ä¸€ä¸‹) å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æœ‰vendorè·Ÿsystemåˆ†åŒºå•ç‹¬æŒ‚è½½,è¿™ä¸ªåœ°æ–¹å¯ä»¥çœ‹è°·æ­Œå¯¹system-as-rootçš„è¯´æ˜ä¾¿äºç†è§£ 123456789101112131415161718192021firmware: firmware { android { compatible = &quot;android,firmware&quot;; fstab { compatible = &quot;android,fstab&quot;; vendor { compatible = &quot;android,vendor&quot;; dev = &quot;/dev/block/platform/soc/7824900.sdhci/by-name/cust&quot;; type = &quot;ext4&quot;; mnt_flags = &quot;ro,barrier=1,discard&quot;; fsmgr_flags = &quot;wait&quot;; status = &quot;ok&quot;; }; system { compatible = &quot;android,system&quot;; dev = &quot;/dev/block/platform/soc/7824900.sdhci/by-name/system&quot;; type = &quot;ext4&quot;; mnt_flags = &quot;ro,barrier=1,discard&quot;; fsmgr_flags = &quot;wait&quot;; status = &quot;ok&quot;; }; ä¹Ÿå¯ä»¥é€šè¿‡device treeçš„ fstab.qcom æŸ¥çœ‹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œéœ€è¦åŠ ä¸Šå»ï¼ˆè‡³å°‘åœ¨vinceä¸Šé¢æ˜¯è¿™æ ·ï¼Œå› ä¸ºåé¢çš„dhdè¦é è¿™ä¸ªæ¥åˆ¤æ–­ï¼‰,å¦‚æˆ‘çš„éœ€è¦åŠ è¿™ä¸¤è¡Œ 12/dev/block/bootdevice/by-name/system /system ext4 ro,barrier=1 wait,recoveryonly/dev/block/bootdevice/by-name/cust /vendor ext4 ro,barrier=1 wait,recoveryonly æœ‰çš„è®¾å¤‡/dev/block/bootdevice/by-name/systemæŒ‚è½½åˆ°/ä¸‹é¢(å¯¹åº”ä¸‹é¢çš„dhdéƒ¨åˆ†çš„makefstab_skip_entries)ï¼Œè€Œæˆ‘çš„è®¾å¤‡/vendoræ˜¯æ¥è‡ª/custï¼ˆä¹Ÿæ˜¯è¿· @_@ device treeéƒ¨åˆ†æ³¨é‡Šæ‰å¯ç”¨full trebleçš„éƒ¨åˆ† å¦‚æˆ‘çš„è®¾å¤‡éœ€è¦æŠŠä¸‹é¢è¿™äº›æ³¨é‡Šæ‰ï¼Œå¦åˆ™selinuxçš„æ”¿ç­–æ–‡ä»¶ä¼šå®‰è£…åˆ°/vendorä¸‹é¢ï¼Œä¸ä¼šåœ¨æ ¹ç›®å½•ä¸‹äº§ç”Ÿï¼Œsfoséœ€è¦åœ¨æ ¹ä¸‹é¢æœ‰ã€‚ æ‰©å±•é˜…è¯»ï¼š https://source.android.com/security/selinux?hl=zh_cn 123456# Treble#BOARD_PROPERTY_OVERRIDES_SPLIT_ENABLED := true#PRODUCT_FULL_TREBLE_OVERRIDE := true#PRODUCT_COMPATIBILITY_MATRIX_LEVEL_OVERRIDE := 27#BOARD_VNDK_VERSION := current#BOARD_VNDK_RUNTIME_DISABLE := true ä¸‰ã€dhdï¼Œdhcéƒ¨åˆ†https://wiki.merproject.org/wiki/Adaptations/faq-hadk æœç´¢ 15.1ä¹Ÿä¼šæ‰¾åˆ°ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ ä¿®æ”¹dhdçš„specæ–‡ä»¶ï¼Œæ·»åŠ  12# On Android 8 the system partition is (intended to be) mounted on /.%define makefstab_skip_entries / /vendor /dev/stune /dev/cpuset /sys/fs/pstore /dev/cpuctl ä¹Ÿä¸ä¸€å®šå…¨éƒ¨è¦åŠ ä¸Šï¼Œæˆ‘çš„è®¾å¤‡/systemï¼Œ/vendorå°±ä¸è‡ªåŠ¨æŒ‚è½½ï¼Œéœ€è¦æ”¹æˆè¿™æ ·, å¯ä»¥å…ˆä¸åŠ ç„¶åtelnetä¸Šå»çœ‹çœ‹è¿™é‡Œç›®å½•ä¸‹æœ‰æ²¡æœ‰æ–‡ä»¶å§ 1%define makefstab_skip_entries /dev/stune /dev/cpuset /sys/fs/pstore /dev/cpuctl è¿™æ ·ä¼šç”Ÿæˆsystem.mountå’Œvendor.mountï¼Œå¯åŠ¨systemdçš„æ—¶å€™ä¼šæŒ‚è½½ä¸Š å¯¹äºæœ‰äº›è®¾å¤‡å¯èƒ½æç¤ºkgsl kgsl-3d0: |_load_firmware| request_firmware(a530_pm4.fw) failed: -2ï¼Œéœ€è¦åšä¸€ä¸ªè½¯é“¾åˆ° /lib/firmware https://github.com/mer-hybris/droid-config-sony-nile/blob/91c15efb576c29a9d41cc4cd1d40c62ddcce9824/sparse/lib/firmware è°ƒè¯•æš‚æ— å¾ˆè¯¦ç»†çš„ï¼Œä¸»è¦æ˜¯çœ‹dmesgï¼Œjournalctlç­‰çœ‹çœ‹æŠŠå‡ºé”™çš„éƒ½ä¿®äº†ã€‚ é€šè¯å£°éŸ³å¦‚æœå¯ä»¥æ‰“é€šç”µè¯ä½†æ˜¯æ²¡æœ‰å£°éŸ³ï¼Œåˆ™éœ€è¦ pulseaudio-modules-droid-hidl 1.0ç‰ˆæœ¬ï¼ˆæˆªæ­¢2019-09-24ï¼‰ï¼Œç„¶åé…åˆæ–°çš„rilé…ç½®æ–‡ä»¶ https://github.com/mer-hybris/droid-config-sony-nile/tree/master/sparse/etc/ofono ç•Œé¢crashçœ‹dmesg/logcat/journactlé‡Œé¢æ˜¯ä¸æ˜¯æœ‰binderçš„ä¿¡æ¯ï¼Œæ‰“è¡¥ä¸å§ï¼Œè‡³äºæ‰“å“ªäº›åªèƒ½é çŒœï¼ˆå¤§é›¾","link":"/2019/06/13/SailfishOS%E7%A7%BB%E6%A4%8D%E5%88%B0Redmi-5-Plus%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95-2/"},{"title":"SailfishOSç§»æ¤åˆ°Redmi 5 Plusçš„ä¸€äº›è®°å½•","text":"ç§»æ¤æ——é±¼ç³»ç»Ÿåˆ°çº¢ç±³5pçš„è¿‡ç¨‹è®°å½•!!!å¯ä»¥å»ãƒ›ãƒ­ ğŸºçš„åšå®¢çœ‹çœ‹æ›´è¯¦ç»†çš„!!! https://blog.yoitsu.moe/category/sailfish.html å‡†å¤‡å·¥ä½œ ä¸€å°çº¢ç±³5pæ‰‹æœºï¼Œè§£é”è¿‡å¹¶ä¸”åˆ·äº†lineageos æœ‰æ¢¯å­ ä¸€å°å†…å­˜èµ·ç 8Gçš„ç”µè„‘(4Gä¹Ÿå¯ä»¥)ï¼ŒUbuntu ç³»ç»Ÿï¼Œç¡¬ç›˜èµ·ç 40GBå¤§å°ï¼Œæˆ–è€…æ›´é«˜ã€‚ SailfishOS-HardwareAdaptationDevelopmentKit 1 READéƒ¨åˆ†pdfæ–‡æ¡£ https://wiki.merproject.org/wiki/Adaptations/faq-hadk https://github.com/mer-hybris/hadk-faq ï¼ˆ2019-10-28æ›´æ–°ï¼‰ æœ€å…³é”®çš„ï¼Œä¸€é¢—å–„äºæŠ˜è…¾çš„å¿ƒå’Œå–„äºæœç´¢çš„ä½  ircæ—¥å¿— https://irclogs.sailfishos.org/logs/%23sailfishos-porters/ æ­å»ºç¯å¢ƒAndroidç¼–è¯‘ç¯å¢ƒ(HADK ç¬¬4ç« ) éœ€è¦å…ˆé…ç½®ä¸€ä¸‹hadkçš„ç¯å¢ƒå˜é‡ï¼Œä¸€å…±ä¸‰ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼š https://github.com/CancroSailors/sailfish-build-environment ç„¶åsource ~/.hadk.envä¸€ä¸‹ 1. å®‰è£…gitç­‰sudo apt-get install git 2. åŒæ­¥CMçš„ä»£ç é…ç½®gitçš„ç”¨æˆ·åè·Ÿé‚®ç®±ï¼Œå¡«è‡ªå·±çš„å°±è¡Œï¼Œéšä¾¿å¡«ä¹Ÿè¡Œ12git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;you@example.com&quot; åˆ›å»ºæ£€å‡ºä»£ç çš„ç›®å½•ï¼Œæ‰€åœ¨çš„ç›˜ç©ºé—´è¦è¶³å¤Ÿ1234sudo mkdir -p $ANDROID_ROOTsudo chown -R $USER $ANDROID_ROOTcd $ANDROID_ROOTrepo init -u git://github.com/mer-hybris/android.git -b hybris-14.1 é…ç½®ä½ çš„è®¾å¤‡çš„ä»“åº“ï¼Œè¿™é‡Œæ˜¯vince123456789101112mkdir $ANDROID_ROOT/.repo/local_manifestscat &lt;&lt;'EOF' &gt;&gt; $ANDROID_ROOT/.repo/local_manifests/vince.xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;manifest&gt; &lt;project path=&quot;device/xiaomi/vince&quot; name=&quot;Sailfish-On-Vince/device_xiaomi_vince&quot; revision=&quot;cm-14.1&quot; /&gt; &lt;project path=&quot;vendor/xiaomi/vince&quot; name=&quot;Sailfish-On-Vince/vendor_xiaomi_vince&quot; revision=&quot;cm-14.1&quot; /&gt; &lt;project path=&quot;kernel/xiaomi/vince&quot; name=&quot;Sailfish-On-Vince/kernel_xiaomi_msm8953&quot; revision=&quot;cm-14.1&quot; /&gt; &lt;project path=&quot;hybris/droid-hal-version-vince&quot; name=&quot;Sailfish-On-Vince/droid-hal-version-vince&quot; revision=&quot;master&quot; /&gt; &lt;project path=&quot;hybris/droid-config-vince&quot; name=&quot;Sailfish-On-Vince/droid-config-vince&quot; revision=&quot;master&quot; /&gt; &lt;project path=&quot;rpm&quot; name=&quot;Sailfish-On-Vince/droid-hal-vince&quot; revision=&quot;master&quot; /&gt;&lt;/manifest&gt;EOF åŒæ­¥ä»£ç repo sync --fetch-submodules å¦‚æœä½ è¦æ±‚å¿«ï¼Œå¯ä»¥ç”¨ repo sync --fetch-submodules -c --no-tags --no-clone-bundleï¼Œè¿™æ ·åªä¼šæ‹‰å–å½“å‰è¦ç”¨çš„ä»£ç ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿åé¢çš„ä¿®æ”¹æäº¤ å‡ºé”™å°±å¤šåŒæ­¥å‡ æ¬¡ Merç¼–è¯‘ç¯å¢ƒ å‚è§å®˜æ–¹æ•™ç¨‹ï¼š https://sailfishos.org/wiki/Platform_SDK_Installation å®‰è£…Platform SDK 123456789export PLATFORM_SDK_ROOT=/srv/mercurl -k -O http://releases.sailfishos.org/sdk/installers/latest/Jolla-latest-SailfishOS_Platform_SDK_Chroot-i486.tar.bz2 ;sudo mkdir -p $PLATFORM_SDK_ROOT/sdks/sfossdk ;sudo tar --numeric-owner -p -xjf Jolla-latest-SailfishOS_Platform_SDK_Chroot-i486.tar.bz2 -C $PLATFORM_SDK_ROOT/sdks/sfossdk ;echo &quot;export PLATFORM_SDK_ROOT=$PLATFORM_SDK_ROOT&quot; &gt;&gt; ~/.bashrcecho 'alias sfossdk=$PLATFORM_SDK_ROOT/sdks/sfossdk/mer-sdk-chroot' &gt;&gt; ~/.bashrc ; exec bash ;echo 'PS1=&quot;PlatformSDK $PS1&quot;' &gt; ~/.mersdk.profile ;echo '[ -d /etc/bash_completion.d ] &amp;&amp; for i in /etc/bash_completion.d/*;do . $i;done' &gt;&gt; ~/.mersdk.profile ;sfossdk å¦å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œè¾“å…¥sfossdkï¼Œè¿›å…¥merä¸‹ å®‰è£…targetsï¼Œå®˜æ–¹æ•™ç¨‹ï¼šhttps://sailfishos.org/wiki/Platform_SDK_Target_Installation å…¶å®å°±æ˜¯æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œè¦ä¸‹è½½è¿™ä¸¤ä¸ªåŒ…ï¼Œè¿‡ç¨‹æœ‰äº›æ…¢ ï¼ˆ2019-06-13æ›´æ–°ï¼Œä¿®å¤é“¾æ¥åœ°å€ä¸ºæœ€æ–°çš„ï¼‰ 12sdk-assistant create xiaomi-vince-latest http://releases.sailfishos.org/sdk/targets/Sailfish_OS-latest-Sailfish_SDK_Tooling-i486.tar.7zsdk-assistant create xiaomi-vince-armv7hl http://releases.sailfishos.org/sdk/targets/Sailfish_OS-latest-Sailfish_SDK_Target-armv7hl.tar.7z æ›´æ–°åˆ°æœ€æ–°ï¼ˆUpdate to latestï¼‰123sudo ssu re x.y.z.absudo zypper refsudo zypper dup å®‰è£…æ‰“åŒ…çš„å·¥å…· 1sudo zypper in android-tools createrepo_c ä¿®æ”¹fixup-mountpointsæ–‡ä»¶åœ¨hybris/hybris-boot/fixup-mountpointsï¼Œæ·»åŠ ä½ çš„è®¾å¤‡çš„ï¼Œè¿™é‡Œæ˜¯vinceã€‚adbåˆ°æ‰‹æœºä¸Šï¼Œè¾“å…¥ls -l /dev/block/platform/*/by-name/, è·å–åˆ†åŒºä¿¡æ¯ï¼Œæˆ–è€…å…¶ä»–è·¯å¾„çš„ï¼ŒHADKé‡Œé¢æœ‰å†™ Cameraæ”¯æŒ12345678cd $ANDROID_ROOT/external/droidmediaecho 'DROIDMEDIA_32 := true' &gt;&gt; env.mkecho 'FORCE_HAL:=1' &gt;&gt; env.mk# For video recorder# https://github.com/sailfishos/droidmedia/pull/11echo 'MINIMEDIA_AUDIOPOLICYSERVICE_ENABLE:=1' &gt;&gt; env.mkecho 'AUDIOPOLICYSERVICE_ENABLE:=1' &gt;&gt; env.mk ç¼–è¯‘hybris-hal12345cd $ANDROID_ROOTsource build/envsetup.shexport USE_CCACHE=1breakfast $DEVICEmake -j8 hybris-hal æœŸé—´å¯èƒ½ä¼šæŠ¥é”™ï¼Œè°·æ­Œæœä¸€ä¸‹ éªŒè¯Kernel12cd $ANDROID_ROOThybris/mer-kernel-check/mer_verify_kernel_config ./out/target/product/$DEVICE/obj/KERNEL_OBJ/.config å‡ºç°WARNINGæˆ–è€…ERRORï¼Œå°†æç¤ºçš„åŠ å…¥åˆ°ä½ çš„defconfigä¸­ï¼Œæˆ‘çš„åœ¨kernel/xiaomi/vince/arch/arm64/configs/vince_defconfigä¸­ç„¶åæ‰§è¡Œmake hybris-rootåé‡æ–°éªŒè¯ã€‚æ²¡æœ‰å‡ºç°ERRORåå¯ä»¥æ‰§è¡Œmake hybris-recovery æ‰“åŒ…dhdï¼ˆHADK ç¬¬7ç« ï¼‰å†å¼€ä¸€ä¸ªç»ˆç«¯(æˆ‘ä»¬è¿™é‡Œç§°ç»ˆç«¯2)ï¼Œè¾“å…¥sfossdkï¼Œè¿›å…¥meræ‰“åŒ…ç¯å¢ƒä¸‹ 12cd $ANDROID_ROOTrpm/dhd/helpers/build_packages.sh -d æ‰“åŒ…droidmediaä¸audioflingerglue&gt; å¦‚æœä½ çš„æœºå™¨æ˜¯32ä½çš„è¯é‚£ä¹ˆä¸‹é¢çš„å‘½ä»¤å»æ‰_32,ä¸‹é¢çš„ä¹Ÿä¸€æ · åœ¨ç»ˆç«¯1ä¸­1make -j$(nproc --all) $(external/droidmedia/detect_build_targets.sh $PORT_ARCH $(gettargetarch))åœ¨ç»ˆç«¯2ä¸­ 1234567891011DROIDMEDIA_VERSION=$(git --git-dir external/droidmedia/.git describe --tags | sed \\-r &quot;s/\\-/\\+/g&quot;)rpm/dhd/helpers/pack_source_droidmedia-localbuild.sh $DROIDMEDIA_VERSIONmkdir -p hybris/mw/droidmedia-localbuild/rpmcp rpm/dhd/helpers/droidmedia-localbuild.spec \\hybris/mw/droidmedia-localbuild/rpm/droidmedia.specsed -ie &quot;s/0.0.0/$DROIDMEDIA_VERSION/&quot; \\hybris/mw/droidmedia-localbuild/rpm/droidmedia.specmv hybris/mw/droidmedia-$DROIDMEDIA_VERSION.tgz hybris/mw/droidmedia-localbuildrpm/dhd/helpers/build_packages.sh --build=hybris/mw/droidmedia-localbuild åœ¨ç»ˆç«¯1ä¸­ 1make -j$(nproc --all) $(external/audioflingerglue/detect_build_targets.sh $PORT_ARCH $(gettargetarch)) åœ¨ç»ˆç«¯2ä¸­12345678910AUDIOFLINGERGLUE_VERSION=$(git --git-dir external/audioflingerglue/.git describe --tags | sed \\-r &quot;s/\\-/\\+/g&quot;)rpm/dhd/helpers/pack_source_audioflingerglue-localbuild.sh $AUDIOFLINGERGLUE_VERSIONmkdir -p hybris/mw/audioflingerglue-localbuild/rpmcp rpm/dhd/helpers/audioflingerglue-localbuild.spec \\hybris/mw/audioflingerglue-localbuild/rpm/audioflingerglue.specsed -ie &quot;s/0.0.0/$AUDIOFLINGERGLUE_VERSION/&quot; \\hybris/mw/audioflingerglue-localbuild/rpm/audioflingerglue.specmv hybris/mw/audioflingerglue-$AUDIOFLINGERGLUE_VERSION.tgz hybris/mw/audioflingerglue-localbuildrpm/dhd/helpers/build_packages.sh --build=hybris/mw/audioflingerglue-localbuild ç„¶åé‡æ–°æ‰“åŒ…dhd1rpm/dhd/helpers/build_packages.sh --droid-hal æ‰“åŒ…å…¶ä»–ä¸­é—´ä»¶åŒ…(mw)æ³¨æ„åˆ° https://wiki.merproject.org/wiki/Adaptations/faq-hadk æœç´¢å½“å‰ç‰ˆæœ¬éœ€è¦å¯¹åº”çš„mwç‰ˆæœ¬å·ï¼Œä¸ä¸€å®šç”¨æœ€æ–°çš„ æ‰§è¡Œ rpm/dhd/helpers/build_packages.sh --mw ,ç„¶åé€‰æ‹© all å³å¯ ã€è¿›é˜¶ã€‘ä¸Šä¼ åˆ°obsæ‰“åŒ…å°†droid-local-repo/vinceä¸‹ droid-hal-vince/.rpm è·Ÿaudioflingerglue.rpm ã€ droidmedia*.rpm ä¸Šä¼ åˆ°obsçš„droid-hal-vinceä¸‹ ä¾‹å¦‚è¿™äº›åŒ…ï¼šhttps://build.merproject.org/package/show/nemo:devel:hw:xiaomi:vince/droid-hal-vince obsæ‰“åŒ…è¿˜éœ€è¦dhc,dhvç­‰ç­‰å‡ ä¸ªåŒ…ï¼Œæ­¤å¤„ä¸è¯¦ç»†è¯´æ˜äº†ï¼Œå¯ä»¥åˆ° https://github.com/mer-hybris çœ‹å…¶ä»–æœºå‹çš„ æ‰“åŒ…dhvä¹Ÿå°±æ˜¯ droid-hal-$DEVICE-version rpm/dhd/helpers/build_packages.sh -v å¦‚æœæç¤º droid-configs ä¹‹ç±»çš„æ‰¾ä¸åˆ°ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£… 1sb2 -t $VENDOR-$DEVICE-$PORT_ARCH -R -msdk-install zypper -n install droid-config-$DEVICE Jolla-@RELEASE@-$DEVICE-@ARCH@.ks~obsæ‰“åŒ…å®Œä¹‹åï¼Œå°†droid-config-vince-kickstart-configuration-0.2.4*.armv7hl.rpm ä¸‹è½½ä¸‹æ¥ï¼Œè§£å‹è·å¾—Jolla-@RELEASE@-$DEVICE-@ARCH@.ksæ”¾åˆ°$ANDROID_ROOTä¸‹é¢~ 12345678cd $ANDROID_ROOTHA_REPO=&quot;repo --name=adaptation-community-common-$DEVICE-@RELEASE@&quot;HA_DEV=&quot;repo --name=adaptation-community-$DEVICE-@RELEASE@&quot;KS=&quot;Jolla-@RELEASE@-$DEVICE-@ARCH@.ks&quot;sed \\&quot;/$HA_REPO/i$HA_DEV --baseurl=file:\\/\\/$ANDROID_ROOT\\/droid-local-repo\\/$DEVICE&quot; \\$ANDROID_ROOT/hybris/droid-configs/installroot/usr/share/kickstarts/$KS \\&gt; $KS é•œåƒåˆ¶ä½œ12345678910cd $ANDROID_ROOTRELEASE=2.1.4.14EXTRA_NAME=-alpha1hybris/droid-configs/droid-configs-device/helpers/process_patterns.shsudo mic create fs --arch=$PORT_ARCH \\--tokenmap=ARCH:$PORT_ARCH,RELEASE:$RELEASE,EXTRA_NAME:$EXTRA_NAME \\--record-pkgs=name,url \\--outdir=sfe-$DEVICE-$RELEASE$EXTRA_NAME \\--pack-to=sfe-$DEVICE-$RELEASE$EXTRA_NAME.tar.bz2 \\$ANDROID_ROOT/Jolla-@RELEASE@-$DEVICE-@ARCH@.ks åœ¨å½“å‰ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ª sfe-$DEVICE-$RELEASE$EXTRA_NAMEç›®å½•ï¼Œä¸‹é¢çš„ sailfishos-$DEVICE-$RELEASE$EXTRA_NAME.zipå°±æ˜¯è¦ä½¿ç”¨çš„åˆ·æœºåŒ… åˆ·æœºåˆ·å…¥ lineageos-14.1çš„åŒ…ï¼Œåˆ·å…¥ä¸Šé¢çš„sailfishos-$DEVICE-$RELEASE$EXTRA_NAME.zipçš„åŒ…ï¼Œé‡å¯ å¯ä»¥å‚è€ƒ https://wiki.merproject.org/wiki/Adaptations/libhybris/Install_SailfishOS_for_Vince è°ƒè¯•æ¬¢è¿åŠ å…¥ IRC #jolla-cn #sailfishos-porters (åªé™è‹±æ–‡äº¤æµ) æˆ– https://t.me/joinchat/GTqoL1HLIYXWNf-JeijTAg è®¨è®º ç›¸å…³æ–‡æ¡£ https://sailfishos.org/hadk http://bit.ly/faq-hadk http://bit.ly/port-channel-log http://bit.ly/always-grep-irc-logs","link":"/2018/03/30/SailfishOS%E7%A7%BB%E6%A4%8D%E5%88%B0Redmi-5-Plus%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%B0%E5%BD%95/"},{"title":"Tomcatä¿¡ä»»httpsç½‘ç«™","text":"åœ¨ä½¿ç”¨å¾®ä¿¡å‘é€å‘Šè­¦çš„æ—¶å€™å‡ºç°æ— æ³•ä½¿ç”¨httpsç½‘å€çš„é—®é¢˜ï¼Œè§£å†³æ–¹å¼å¦‚ä¸‹å¯¼å‡ºå¾®ä¿¡çš„è¯ä¹¦openssl s_client -connect qyapi.weixin.qq.com:443 2&gt;&amp;1 |sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; weixin.crt ä½¿ç”¨SSLPoke.classç¡®è®¤æ˜¯å¦è¿˜æœ‰ä¸Šå±‚è¯ä¹¦ï¼Œå¦‚æœå­˜åœ¨ä¹Ÿå¯¼å…¥ java -Djavax.net.debug=ssl SSLPoke qyapi.weixin.qq.com 443 çœ‹åˆ°æœ‰ç±»ä¼¼ä¸‹é¢çš„åˆ™è¡¨æ˜æœ‰ä¸Šå±‚è¯ä¹¦: 123456789AuthorityInfoAccess [ [ accessMethod: ocsp accessLocation: URIName: http://gn.symcd.com, accessMethod: caIssuers accessLocation: URIName: http://gn.symcb.com/gn.crt]] å°†http://gn.symcb.com/gn.crtä¸‹è½½ä¸‹æ¥ï¼Œå¹¶å¯¼å…¥sudo keytool -import -v -trustcacerts -alias gnsymcb -keystore $JAVA_HOME/jre/lib/security/jssecacerts -file gn.crt å¯¼å…¥åˆ°jdkä¸­sudo keytool -import -v -trustcacerts -alias qyapiweixin -keystore $JAVA_HOME/jre/lib/security/jssecacerts -file weixin.crt æ›´æ–°è¯ä¹¦éœ€è¦å…ˆåˆ é™¤å†å¯¼å…¥æ–°çš„12sudo keytool -delete -keystore $JAVA_HOME/jre/lib/security/cacerts -alias qyapiweixin sudo keytool -import -v -trustcacerts -alias qyapiweixin -keystore $JAVA_HOME/jre/lib/security/cacerts -file weixin.crt æŒ‡å®štomcatä½¿ç”¨è¯ä¹¦(éå¿…é¡»)12vim /usr/local/apache-tomcat-8.5.6/bin/setenv.shJAVA_OPTS=&quot;-Djava.awt.headless=true -Dfile.encoding=UTF-8 -server -Xms2048m -Xmx2048m -XX:NewSize=512m -XX:MaxNewSize=512m -XX:PermSize=512m -XX:MaxPermSize=512m -XX:+DisableExplicitGC -Djavax.net.ssl.trustStore=/usr/local/java/jdk8/jre/lib/security/jssecacerts&quot; æˆ–è€…åœ¨ /usr/local/apache-tomcat-8.5.6/conf/server.xmlçš„sslé…ç½®éƒ¨åˆ†æŒ‡å®škeystoreï¼Œå¦‚ä¸‹ 1234567&lt;Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot; clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; URIEncoding=&quot;utf-8&quot; keystoreFile=&quot;/usr/local/java/jdk7/jre/lib/security/jssecacerts&quot; keystorePass=&quot;yourpassword&quot; /&gt;","link":"/2018/01/30/Tomcat%E4%BF%A1%E4%BB%BBhttps%E7%BD%91%E7%AB%99/"},{"title":"Windowsä½¿ç”¨frpè¿›è¡Œè¿œç¨‹è¿æ¥","text":"frp æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®ã€‚ Githubä»‹ç»ï¼š https://github.com/fatedier/frp/blob/master/README_zh.md å®‰è£…ä»è¿™é‡Œhttps://github.com/fatedier/frp/releases ä¸‹è½½æœ€æ–°çš„äºŒè¿›åˆ¶å®‰è£…åŒ…ï¼ŒæœåŠ¡ç«¯è·Ÿå®¢æˆ·ç«¯éƒ½åœ¨ä¸€ä¸ªå‹ç¼©åŒ…é‡Œã€‚ æœåŠ¡ç«¯æœåŠ¡ç«¯è·Ÿå®¢æˆ·ç«¯éƒ½éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯¹äºæœåŠ¡ç«¯é…ç½®æ–‡ä»¶å¦‚ä¸‹ 12345frps.ini (å®Œæ•´é…ç½®æ–‡ä»¶ https://github.com/fatedier/frp/blob/master/conf/frps_full.ini)[common]bind_port = 7000vhost_http_port = 8888token = your_token ç„¶åå¯åŠ¨åªéœ€è¦ä¸€æ¡å‘½ä»¤/usr/bin/frps -c /etc/frps/frps.ini æœ€å¥½åšä¸€ä¸‹å®ˆæŠ¤ï¼Œå¦‚ä½¿ç”¨systemdæ‰˜ç®¡12345678910111213$ cat /etc/systemd/system/frps.service[Unit]Description=frpc daemonAfter=syslog.target network.targetWants=network.target[Service]Type=simpleExecStart=/usr/bin/frps -c /etc/frps/frps.iniRestart=alwaysRestartSec=1minExecStop=/usr/bin/killall frps[Install]WantedBy=multi-user.target å®¢æˆ·ç«¯å®¢æˆ·ç«¯åŒæœåŠ¡ç«¯ä¹Ÿéœ€è¦ä¸€ä»½é…ç½®(frpc.ini)ï¼Œå¦‚è¿™é‡Œæˆ‘ä»¬åšwindowsçš„è¿œç¨‹æ¡Œé¢æ˜ å°„12345678[common]server_addr = 47.98.28.15server_port = 7000token = your_token[rdp]type = tcplocal_port = 3389remote_port = 3389 ä¸Šé¢çš„server_addrå¡«å†™æœåŠ¡ç«¯çš„ipï¼ŒtokenåŒæœåŠ¡ç«¯çš„tokenã€‚ åŒæ ·ä¸€æ¡å‘½ä»¤å¯åŠ¨./frpc.exe -c frpc.ini åšæˆè‡ªå¯åŠ¨æœåŠ¡ä¸‹è½½ä¸€ä¸ªnssm.exeæ”¾åˆ°frpçš„ç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤(æ³¨æ„ä¸‹å¯¹32ã€64ç‰ˆæœ¬)nssm.exe install frpc æ¥ä¸‹æ¥ä¼šå¼¹å‡ºä¸€ä¸ªæ¡†ï¼Œåœ¨pathå¤„é€‰æ‹©å¯åŠ¨frpcçš„frpc.bat ç‚¹å‡»Install serviceå³å¯ å¯åŠ¨ nssm.exe start frpc æµ‹è¯•é¦–å…ˆç¡®ä¿ä½ çš„windowså¯ä»¥è¢«è¿œç¨‹è¿æ¥ã€‚ åœ¨å¤–ç½‘æœºå™¨è¾“å…¥ 47.98.28.15ï¼Œç„¶åè¾“å…¥ä½ çš„ç”¨æˆ·åå¯†ç å³å¯è¿æ¥ã€‚ æ³¨æ„å¼€é€šæœåŠ¡å™¨è·Ÿå®¢æˆ·ç«¯çš„3389ç«¯å£ï¼Œä»¥åŠæœåŠ¡ç«¯çš„7000ï¼Œ8888ç«¯å£ã€‚","link":"/2019/10/12/Windows%E4%BD%BF%E7%94%A8frp%E8%BF%9B%E8%A1%8C%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/"},{"title":"Tomcatå¤šå®ä¾‹sessionå…±äº«æ–¹æ¡ˆ","text":"Tomcatå®ç°å¤šå®ä¾‹sessionå…±äº«çš„æ–¹æ¡ˆè¿˜æŒºå¤šçš„ï¼Œupä¸»ä½¿ç”¨äº†ä¸‰ç§ï¼Œæœ€ç»ˆé€‰æ‹©äº†tomcatè‡ªå¸¦çš„Clusteré›†ç¾¤æ–¹æ¡ˆã€‚ä¸‹é¢æ¥è¯´ä¸€ä¸‹è¿™ä¸‰ç§æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹ã€‚ upä¸»ç”¨çš„tomcat7ï¼Œè‡³äºä¸ºä»€ä¹ˆè¿˜æ˜¯7è¿™ä¹ˆè€çš„ç‰ˆæœ¬ï¼Œå› ä¸ºé«˜ç‰ˆæœ¬çš„å¯¹getè¯·æ±‚æœ‰ä¸€äº›å­—ç¬¦æ ¡éªŒå¦å¤–ï¼Œè¿™äº›éƒ½æ˜¯ä¸ç”¨æ”¹javaä»£ç çš„ï¼Œå…¶ä»–çš„æ²¡åšç ”ç©¶ tomcat-redis-session-managerè¿™ä¸ªåº”è¯¥æ˜¯æœ€å¸¸è§çš„æ–¹æ¡ˆäº†ï¼Œæˆ‘ä»¬éšä¾¿ä¸€æœå°±æ˜¯è¿™ä¸ªï¼Œä½†æ˜¯ä»£ç æœ‰äº›å‘ã€‚ã€‚ã€‚ å¦‚: è¿™ä¸ª è¿˜æœ‰è¿™ä¸ª ç­‰ç­‰ï¼Œè¿˜æœ‰ä¸¤ä¸ªè‡´å‘½çš„bugï¼Œä¸€æ˜¯sessionä¿ç•™æ—¶é—´è¿‡é•¿ï¼Œé‡Œé¢æœ‰ä¸€æ®µä»£ç  session.setMaxInactiveInterval(getMaxInactiveInterval() * 1000); ï¼Œè¿™é‡Œå¤šä¿ç•™äº†1000å€çš„æ—¶é—´ã€‚äºŒæ˜¯æ¯æ¬¡è®¿é—®éƒ½ä¼šæœ‰ä¸€æ¡sessionè®°å½•ä¿ç•™ï¼Œéå¸¸çš„è€—è´¹rediså†…å­˜ã€‚ è™½ç„¶ä¸Šè¿°ä¿©bugæœ¬upä¸»å·²ç»ä¿®å¤äº†ï¼Œä½†æ˜¯å‘ç°è¿˜ä¼šä¸¢sessionï¼Œä¼°è®¡æ˜¯redisçš„é©±é€é—®é¢˜ï¼Œä¹Ÿæ‡’å¾—å»è°ƒè¯•äº†ã€‚ redissonæœ¬upä¸»å‘ç°è¿™ä¸ªçš„æ—¶å€™ä»¥ä¸ºç»ˆäºå¾—æ•‘äº†ï¼Œçœ‹ä¸€ä¸‹äººå®¶çš„å®˜ç½‘ https://redisson.pro/ ï¼Œè¿˜æœ‰å•†ä¸šç‰ˆï¼Œå°±è§‰å¾—å¾ˆé è°±ã€‚äº‹å®è¯æ˜è¿˜æ˜¯too young too naiveå•Š å› ä¸ºçªç„¶æœ‰ä¸€å¤©ï¼ŒåŒäº‹è¯´ä½ è¿™ä¸ªæ¥å£å¥½æ…¢ï¼Œç„¶åæˆ‘å‘ç°æ•´ä¸ªæœºå™¨è´Ÿè½½éƒ½å¾ˆé«˜äº†ï¼Œè®¿é—®ç½‘ç«™ç›´æ¥å¡æˆç‹—ï¼Œçœ‹äº†ä¸€ä¸‹æ—¥å¿—ï¼Œjvmå´©æºƒäº† java.lang.OutOfMemoryError: GC overhead limit exceeded ä¸Šé¢é‚£ä¸ªä¸ç®¡æ˜¯ä¸¢sessionè¿˜æ˜¯ä¿ç•™æ—¶é—´å¤ªé•¿ï¼Œä½†æ˜¯ä¸è‡³äºæŠŠtomcatææ­»ã€‚å¥½å®¶ä¼™ï¼Œè¿™ä¸ªç›´æ¥æŠŠjvmå¹²å´©æºƒäº†ï¼ŒOOMå¯è¿˜è¡Œ Tomcat Clusterè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆè¯¦ç»†çš„æ•™ç¨‹ http://xstarcd.github.io/wiki/Java/tomcat_cluster.html ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚ æ³¨æ„ï¼Œæˆ‘ç›´æ¥è´´ä»–çš„tomcaté…ç½®å‘ç°æœ‰çœ‹ä¸è§çš„ç©ºè¡Œè¿˜æ˜¯å•¥çš„ï¼Œå¯ä»¥å»tomcatç½‘ç«™å¤åˆ¶ã€‚ æ³¨æ„2ï¼Œä¸€å®šè¦åœ¨web.xmlä¸­æ·»åŠ &lt;distributable /&gt; ä½¿ç”¨ä¸¤å¤©äº†ï¼Œæš‚æ—¶æ²¡å‘ç°é—®é¢˜ï¼Œæœ‰å¾…åç»­è§‚å¯Ÿã€‚","link":"/2022/03/09/Tomcat%E5%A4%9A%E5%AE%9E%E4%BE%8Bsession%E5%85%B1%E4%BA%AB%E6%96%B9%E6%A1%88/"},{"title":"awk è®¡ç®—ä¸€åˆ—çš„å’Œ","text":"awk '{sum += $10};END {print sum}' ä¾‹å¦‚æƒ³è®¡ç®—nginxæ—¥å¿—ä¸­206ä¸‹è½½æ€»æ•°æ®å’Œï¼Œåˆ™ç”¨cat xxx.access.log|grep &quot; 206 &quot; |awk '{sum += $10};END {print sum}'","link":"/2017/05/31/awk-%E8%AE%A1%E7%AE%97%E4%B8%80%E5%88%97%E7%9A%84%E5%92%8C/"},{"title":"harborè·¨å¤§ç‰ˆæœ¬å‡çº§","text":"æ³¨æ„ï¼šå¿…é¡»æ˜¯ç”¨åŸŸåçš„æ–¹å¼(ä¹Ÿå°±æ˜¯æœ‰å†…ç½‘çš„dns)ï¼Œå¦‚æœä»¥å‰ç”¨ipï¼Œåˆ™æœ¬æ–¹æ³•æ— æ•ˆï¼ Harbor1.2ä¹‹å‰çš„ç‰ˆæœ¬ä¸èƒ½ç›´æ¥å‡çº§åˆ°æ–°ç‰ˆæœ¬ï¼Œæƒ³è¦å‡çº§åˆ°æœ€æ–°ç‰ˆå¹¶ä¸”ä¸šåŠ¡ä¸ä¸­æ–­ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ã€‚ å¤§ä½“æµç¨‹å¦‚ä¸‹ï¼š Bæœºå™¨æ­ä¸€ä¸ªæ–°harbor -&gt; æ‰‹åŠ¨å°†æ—§harborçš„é•œåƒpushåˆ°æ–°harbor -&gt; æ›´æ”¹AåŸŸåæŒ‡å‘åˆ°Bä¸»æœºip -&gt; æµ‹è¯•Bçš„harboræœåŠ¡æ˜¯å¦æ­£å¸¸ -&gt; é“²æ‰Aä¸Šçš„æ—§harbor -&gt; åœ¨Aä¸Šé‡æ–°æ­å»ºharbor -&gt; Bæœºå™¨ä¸Šçš„harboråŒæ­¥åˆ°Aä¸Šçš„harbor æµ‹è¯•Açš„harboræœåŠ¡æ˜¯å¦æ­£å¸¸ -&gt; æ”¹å›AåŸŸåæŒ‡å‘Aä¸»æœº -&gt; åˆ æ‰Bä¸Šçš„åŒæ­¥ã€‚ æ‰‹åŠ¨pushæ—§harboré•œåƒåˆ°æ–°harboræ‰€ç”¨åˆ°çš„è„šæœ¬ï¼špip install python_harborclientget_all.py: 123456789101112#!/usr/bin/pythonfrom registry import RegistryApiapi = RegistryApi('admin', 'password', 'http://pk8stemp02.rmz.flamingo-inc.com:8888')maxsize = 65536repos = api.getRepositoryList(maxsize)repositories = repos.get('repositories')for repo in repositories: tags = api.getTagList(repo).get('tags') if tags: for tag in tags: print(repo + &quot;:&quot; +tag)``` python get_all.py &gt; all_repos.txtallimages=$(cat all_repos.txt)ORIGIN_HOST=â€pk8snode01.rmz.flamingo-inc.com:8888â€ #æ—§harborBACK_HOST=â€pk8stemp02.rmz.flamingo-inc.com:8888â€ #æ–°harbor #æå‰ç™»å½•ä¸€ä¸‹ #docker login $BACK_HOSTfor image in ${allimages}; do docker pull ${ORIGIN_HOST}/$image docker tag ${ORIGIN_HOST}/$image ${BACK_HOST}/$image docker push ${BACK_HOST}/$image sleep 1 echo $image â€œdoneâ€done`","link":"/2019/04/15/harbor%E8%B7%A8%E5%A4%A7%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7/"},{"title":"okcarosç§»æ¤åˆ°çº¢ç±³note8åŠä½“éªŒ","text":"æœ€è¿‘okcaroså¼€æ”¾ç¬¬ä¸‰æ–¹ç§»æ¤äº†ï¼Œæˆ‘å°±ç®€å•è¯•äº†ä¸€ä¸‹ï¼Œæœ‰ç‚¹æƒŠå–œ okcaroså®˜ç½‘ https://www.okcaros.com/zh ï¼Œå®ç°åŸç†æ˜¯é€šè¿‡æ›´æ”¹usbåè®®ï¼Œæ¬ºéª—carplayæ¥æ˜ å°„å®‰å“æ‰‹æœºçš„å†…å®¹ï¼Œæ€è·¯è¿˜æ˜¯æŒºå¥½çš„ é€‚é…è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œç»™kernelâ€œæ‰“ä¸ªè¡¥ä¸â€ï¼Œå¼•å…¥ä¸€ä¸‹okcarä»£ç ï¼Œç¼–è¯‘å°±å®Œäº‹äº†ï¼ˆå®é™…æ˜¯åœ¨AMD r7-5800ä¸Šé¢ï¼Œ16Gå†…å­˜çš„è™šæ‹Ÿæœºä¸Šï¼Œè¦è·‘12+å°æ—¶ğŸ˜‚ ä¸Šä¸¤å¼ å›¾ â€”â€”â€”â€”â€”2024å¹´04æœˆ14æ—¥ 16ç‚¹32åˆ†â€”â€”â€”â€”â€” ç»§ç»­ä¸Šæ¬¡æ²¡å†™å®Œçš„å†…å®¹ã€‚ä»£ç å·²ç»åˆå¹¶åˆ°okcarosçš„ä»“åº“äº†ï¼Œå¯ä»¥cloneä¸‹æ¥ç›´æ¥ç¼–è¯‘äº†ï¼Œä»£ç å‚è§ https://github.com/okcar-os?q=ginkgo&amp;type=all&amp;language=&amp;sort= å½“ç„¶ï¼Œæ—¢ç„¶åˆå¹¶åˆ°ä¸Šæ¸¸ä»“åº“äº†ï¼Œè‡ªç„¶æ˜¯æä¾›ç›´æ¥ä¸‹è½½çš„ https://download.okcaros.com/devices/ginkgo/builds å¦å¤–ï¼Œå‘ç°æœ‰windowsä¸‹çš„å®‰è£…å·¥å…·äº†ï¼Œhttps://okcar-cdn.okcarbox.com/app/okcaros_installer_1.0.0.exe","link":"/2023/10/18/okcaros%E7%A7%BB%E6%A4%8D%E5%88%B0%E7%BA%A2%E7%B1%B3note8%E5%8F%8A%E4%BD%93%E9%AA%8C/"},{"title":"debian,ubuntuæ— æ³•ä½¿ç”¨aptä¸‹è½½æºæ•°æ®çš„è§£å†³æ–¹æ³•","text":"ç°è±¡ï¼šä¸ç®¡æ˜¯é»˜è®¤çš„æºè¿˜æ˜¯ustcçš„éƒ½ç›´æ¥æç¤º Connection failedï¼Œä½†å¯ä»¥pingé€šã€‚12345678910111213root@77ec78c7b3b7:/# printf &quot;deb http://mirrors.ustc.edu.cn/debian/ buster main contrib non-free\\n#deb-src http://mirrors.ustc.edu.cn/debian/ buster main contrib non-free\\ndeb http://mirrors.ustc.edu.cn/debian/ buster-updates main contrib non-free\\n#deb-src http://mirrors.ustc.edu.cn/debian/ buster-updates main contrib non-free\\n#deb http://mirrors.ustc.edu.cn/debian-security/ buster/updates main contrib non-free\\n#deb-src http://mirrors.ustc.edu.cn/debian-security/ buster/updates main contrib non-free&quot; &gt; /etc/apt/sources.listroot@77ec78c7b3b7:/# apt updateErr:1 http://mirrors.ustc.edu.cn/debian buster InRelease Connection failed [IP: 202.141.176.110 80]Err:2 http://mirrors.ustc.edu.cn/debian buster-updates InRelease Connection failed [IP: 202.141.176.110 80]Reading package lists... Done Building dependency tree Reading state information... DoneAll packages are up to date.W: Failed to fetch http://mirrors.ustc.edu.cn/debian/dists/buster/InRelease Connection failed [IP: 202.141.176.110 80]W: Failed to fetch http://mirrors.ustc.edu.cn/debian/dists/buster-updates/InRelease Connection failed [IP: 202.141.176.110 80]W: Some index files failed to download. They have been ignored, or old ones used instead. è§£å†³æ–¹æ³•ï¼šæ›´æ”¹aptçš„é»˜è®¤UA printf 'Acquire\\n{\\n http::User-Agent &quot;Mozilla/5.0 (Windows NT 5.1; rv:25.0) \\nGecko/20100101 Firefox/25.0&quot;;\\n};' &gt; /etc/apt/apt.conf å‚è€ƒï¼š https://samhassell.com/apt-cant-see-sources-try-changing-the-user-agent/ åŸå› :æœªçŸ¥ã€‚ã€‚ã€‚ï¼Œåœ¨å¦ä¸€ä¸ªç½‘ç»œç¯å¢ƒä¸‹å°±å¯ä»¥ï¼Œä¹Ÿæ˜¯ç¥å¥‡ã€‚ P.S. æ„Ÿè°¢å…¬å¸å¤§æ•°æ®éƒ¨é—¨çš„åŒå­¦ï¼Œè®©æˆ‘åˆå¯ä»¥æ°´ä¸€ç¯‡äº† xD (åˆ’æ‰åˆ’æ‰)","link":"/2020/06/05/debian-ubuntu%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8apt%E4%B8%8B%E8%BD%BD%E6%BA%90%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"},{"title":"irc åŠ å›é¢‘é“op","text":"ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š /cs op #jolla-cn +o birdzhang","link":"/2017/05/19/irc-%E5%8A%A0%E5%9B%9E%E9%A2%91%E9%81%93op/"},{"title":"casæ ¹æ®è¯·æ±‚å‚æ•°è·³è¿‡éªŒè¯","text":"æ¥ä¸Šä¸€ç¯‡ https://birdzhang.xyz/2018/05/15/Java%E6%94%B9%E5%86%99HttpServletRequest%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/ ï¼Œè¿™é‡Œè¯´ä¸€ä¸‹casçš„å‘ï¼ˆè¿™é‡Œçš„casæ˜¯3.5ç‰ˆæœ¬ï¼‰ è™½ç„¶casæœ‰CAS Authentication Filterï¼Œä½†æ˜¯è¿™ä¸ªåªæ˜¯æ ¹æ®è¯·æ±‚çš„uriè¿‡æ»¤çš„ï¼Œé‚£ä¹ˆè¿™é‡Œå°±å‡ºç°äº†ä¸€ä¸ªå¥‡æ€ªçš„bug å³ä½¿æˆ‘åœ¨excludePathsé‡Œé¢æ·»åŠ äº†/test1/ï¼Œä½†æ˜¯å½“è¯·æ±‚åœ°å€ä¸º/test1/123?ticket=123çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šå»casæœåŠ¡å™¨éªŒè¯ï¼ï¼ï¼ æˆ‘ä»¬æ¥çœ‹ä»£ç ï¼š CAS Authentication Filter ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147package com.birdzhang.demo.check;import java.io.IOException;import javax.servlet.FilterChain;import javax.servlet.FilterConfig;import javax.servlet.ServletException;import javax.servlet.ServletRequest;import javax.servlet.ServletResponse;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession;import org.jasig.cas.client.authentication.DefaultGatewayResolverImpl;import org.jasig.cas.client.authentication.GatewayResolver;import org.jasig.cas.client.util.AbstractCasFilter;import org.jasig.cas.client.util.CommonUtils;import org.jasig.cas.client.validation.Assertion;public class AuthenticationFilter extends AbstractCasFilter{ /** * The URL to the CAS Server login. */ private String casServerLoginUrl; /** * Whether to send the renew request or not. */ private boolean renew = false; /** * Whether to send the gateway request or not. */ private boolean gateway = false; /** * æ·»åŠ å±æ€§ï¼Œè¿™é‡Œç”¨æ¥å­˜æ”¾ä¸è¿‡æ»¤åœ°å€æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚å®šåˆ¶---1 */ private String excludePaths; private GatewayResolver gatewayStorage = new DefaultGatewayResolverImpl(); protected void initInternal(final FilterConfig filterConfig) throws ServletException { if (!isIgnoreInitConfiguration()) { super.initInternal(filterConfig); setCasServerLoginUrl(getPropertyFromInitParams(filterConfig, &quot;casServerLoginUrl&quot;, null)); //log.trace(&quot;Loaded CasServerLoginUrl parameter: &quot; + this.casServerLoginUrl); setRenew(parseBoolean(getPropertyFromInitParams(filterConfig, &quot;renew&quot;, &quot;false&quot;))); //log.trace(&quot;Loaded renew parameter: &quot; + this.renew); setGateway(parseBoolean(getPropertyFromInitParams(filterConfig, &quot;gateway&quot;, &quot;false&quot;))); //log.trace(&quot;Loaded gateway parameter: &quot; + this.gateway); final String gatewayStorageClass = getPropertyFromInitParams(filterConfig, &quot;gatewayStorageClass&quot;, null); if (gatewayStorageClass != null) { try { this.gatewayStorage = (GatewayResolver) Class.forName(gatewayStorageClass).newInstance(); } catch (final Exception e) { //log.error(e,e); throw new ServletException(e); } } //è‡ªå®šä¹‰æ·»åŠ ä»£ç ï¼Œç”¨æ¥è¯»å–webé…ç½®æ–‡ä»¶ä¸­excludeså±æ€§å€¼ ---2 excludePaths = getPropertyFromInitParams(filterConfig, &quot;excludePaths&quot;, null);//filterConfig.getInitParameter(&quot;excludePaths&quot;); excludePaths = excludePaths.trim(); } } public void init() { super.init(); CommonUtils.assertNotNull(this.casServerLoginUrl, &quot;casServerLoginUrl cannot be null.&quot;); }//urlåˆ¤æ–­é€»è¾‘ï¼Œè¿™é‡Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ¥åˆ¶è®¢è§„åˆ™ private boolean isExclude(String uri){ boolean isInWhiteList = false; if(excludePaths!=null&amp;&amp; uri!=null){ isInWhiteList = uri.matches(excludePaths); } return isInWhiteList; } public final void doFilter(final ServletRequest servletRequest, final ServletResponse servletResponse, final FilterChain filterChain) throws IOException, ServletException { final HttpServletRequest request = (HttpServletRequest) servletRequest; final HttpServletResponse response = (HttpServletResponse) servletResponse; final HttpSession session = request.getSession(false); final Assertion assertion = session != null ? (Assertion) session.getAttribute(CONST_CAS_ASSERTION) : null; // è¯¥åˆ¤æ–­æ˜¯è‡ªå®šä¹‰çš„å¯¹ç¬¦åˆæ¡ä»¶çš„urlè¿›è¡Œé€šè¿‡å¤„ç† ---3 if(isExclude(request.getRequestURI())){ filterChain.doFilter(request, response); return; } if (assertion != null) { filterChain.doFilter(request, response); return; } final String serviceUrl = constructServiceUrl(request, response); final String ticket = CommonUtils.safeGetParameter(request,getArtifactParameterName()); final boolean wasGatewayed = this.gatewayStorage.hasGatewayedAlready(request, serviceUrl); if (CommonUtils.isNotBlank(ticket) || wasGatewayed) { filterChain.doFilter(request, response); return; } final String modifiedServiceUrl; //log.debug(&quot;no ticket and no assertion found&quot;); if (this.gateway) { //log.debug(&quot;setting gateway attribute in session&quot;); modifiedServiceUrl = this.gatewayStorage.storeGatewayInformation(request, serviceUrl); } else { modifiedServiceUrl = serviceUrl; }/* if (log.isDebugEnabled()) { log.debug(&quot;Constructed service url: &quot; + modifiedServiceUrl); }*/ final String urlToRedirectTo = CommonUtils.constructRedirectUrl(this.casServerLoginUrl, getServiceParameterName(), modifiedServiceUrl, this.renew, this.gateway); /* if (log.isDebugEnabled()) { log.debug(&quot;redirecting to \\&quot;&quot; + urlToRedirectTo + &quot;\\&quot;&quot;); }*/ response.sendRedirect(urlToRedirectTo); } public final void setRenew(final boolean renew) { this.renew = renew; } public final void setGateway(final boolean gateway) { this.gateway = gateway; } public final void setCasServerLoginUrl(final String casServerLoginUrl) { this.casServerLoginUrl = casServerLoginUrl; } public final void setGatewayStorage(final GatewayResolver gatewayStorage) { this.gatewayStorage = gatewayStorage; }} å¯ä»¥çœ‹åˆ°åœ¨uriåŒ¹é…åˆ°excludepathä¹‹åä¼šèµ°filterChain.doFilter(request, response);ï¼Œç”±äºæˆ‘ä»¬å¹¶æ²¡æœ‰å¯¹filterChainåšä»€ä¹ˆä¿®æ”¹ï¼Œæ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯è·‘åˆ°casé‚£é‡Œå»äº† ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202package com.birdzhang.plugin;/** * @author debo.zhang * */import java.io.IOException;import java.util.HashMap;import java.util.Map;import javax.servlet.FilterChain;import javax.servlet.FilterConfig;import javax.servlet.ServletException;import javax.servlet.ServletRequest;import javax.servlet.ServletResponse;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession;import org.jasig.cas.client.authentication.DefaultGatewayResolverImpl;import org.jasig.cas.client.authentication.GatewayResolver;import org.jasig.cas.client.util.AbstractCasFilter;import org.jasig.cas.client.util.CommonUtils;import org.jasig.cas.client.validation.Assertion;public class AuthenticationFilter extends AbstractCasFilter{ /** * The URL to the CAS Server login. */ private String casServerLoginUrl; /** * Whether to send the renew request or not. */ private boolean renew = false; /** * Whether to send the gateway request or not. */ private boolean gateway = false; /** * æ·»åŠ å±æ€§ï¼Œè¿™é‡Œç”¨æ¥å­˜æ”¾ä¸è¿‡æ»¤åœ°å€æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚å®šåˆ¶---1 */ private String excludePaths; private GatewayResolver gatewayStorage = new DefaultGatewayResolverImpl(); protected void initInternal(final FilterConfig filterConfig) throws ServletException { if (!isIgnoreInitConfiguration()) { super.initInternal(filterConfig); setCasServerLoginUrl(getPropertyFromInitParams(filterConfig, &quot;casServerLoginUrl&quot;, null)); //log.trace(&quot;Loaded CasServerLoginUrl parameter: &quot; + this.casServerLoginUrl); setRenew(parseBoolean(getPropertyFromInitParams(filterConfig, &quot;renew&quot;, &quot;false&quot;))); //log.trace(&quot;Loaded renew parameter: &quot; + this.renew); setGateway(parseBoolean(getPropertyFromInitParams(filterConfig, &quot;gateway&quot;, &quot;false&quot;))); //log.trace(&quot;Loaded gateway parameter: &quot; + this.gateway); final String gatewayStorageClass = getPropertyFromInitParams(filterConfig, &quot;gatewayStorageClass&quot;, null); if (gatewayStorageClass != null) { try { this.gatewayStorage = (GatewayResolver) Class.forName(gatewayStorageClass).newInstance(); } catch (final Exception e) { //log.error(e,e); throw new ServletException(e); } } //è‡ªå®šä¹‰æ·»åŠ ä»£ç ï¼Œç”¨æ¥è¯»å–webé…ç½®æ–‡ä»¶ä¸­excludeså±æ€§å€¼ ---2 excludePaths = getPropertyFromInitParams(filterConfig, &quot;excludePaths&quot;, null);//filterConfig.getInitParameter(&quot;excludePaths&quot;); excludePaths = excludePaths.trim(); } } public void init() { super.init(); CommonUtils.assertNotNull(this.casServerLoginUrl, &quot;casServerLoginUrl cannot be null.&quot;); } //urlåˆ¤æ–­é€»è¾‘ï¼Œè¿™é‡Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ¥åˆ¶è®¢è§„åˆ™ private boolean isExclude(String uri){ boolean isInWhiteList = false; if(excludePaths!=null&amp;&amp; uri!=null){ isInWhiteList = uri.matches(excludePaths); } return isInWhiteList; } public final void doFilter(final ServletRequest servletRequest, final ServletResponse servletResponse, final FilterChain filterChain) throws IOException, ServletException { HttpServletRequest request = (HttpServletRequest) servletRequest; final HttpServletResponse response = (HttpServletResponse) servletResponse; final HttpSession session = request.getSession(false); final Assertion assertion = session != null ? (Assertion) session.getAttribute(CONST_CAS_ASSERTION) : null; //hack for äº‘æ¡¥ Map&lt;String, String[]&gt; paramsMap = request.getParameterMap(); if(null != paramsMap ) { if(paramsMap.containsKey(&quot;ticket&quot;) &amp;&amp; paramsMap.containsKey(&quot;operation&quot;)) {/* String token = Arrays.toString(paramsMap.get(&quot;ticket&quot;)); request.removeAttribute(&quot;ticket&quot;); request.setAttribute(&quot;token&quot;, token.substring(1, token.length()-1)); filterChain.doFilter(request, response); return;*/ /*StringBuffer paramsBuff = new StringBuffer(); for(String param: paramsMap.keySet()) { String newString = Arrays.toString(paramsMap.get(param)); if(param.equals(&quot;ticket&quot;)) { paramsBuff.append(&quot;&amp;&quot;).append(&quot;eticket&quot;).append(&quot;=&quot;).append(newString.substring(1, newString.length()-1)); }else { paramsBuff.append(&quot;&amp;&quot;).append(param).append(&quot;=&quot;).append(newString.substring(1, newString.length()-1)); } } String port = request.getServerPort() == 80?&quot;&quot;:&quot;:&quot;+request.getServerPort(); String scheme = request.getScheme(); String host = request.getServerName(); String redirectUrl = String.format(&quot;%s://%s%s%s?%s&quot;, scheme, host, port, request.getRequestURI(), paramsBuff.toString().substring(1) ); System.out.println(&quot;request url:&quot;+redirectUrl); response.sendRedirect(redirectUrl); return;*/ Map&lt;String, String[]&gt; extraParams = new HashMap&lt;String, String[]&gt;(); HttpServletRequest wrappedRequest = new PrettyFacesWrappedRequest(request, extraParams); request.getRequestDispatcher(request.getRequestURI()).forward(wrappedRequest, response); return; } } // è¯¥åˆ¤æ–­æ˜¯è‡ªå®šä¹‰çš„å¯¹ç¬¦åˆæ¡ä»¶çš„urlè¿›è¡Œé€šè¿‡å¤„ç† if(isExclude(request.getRequestURI())){ filterChain.doFilter(request, response); return; } if (assertion != null) { filterChain.doFilter(request, response); return; } final String serviceUrl = constructServiceUrl(request, response); final String ticket = CommonUtils.safeGetParameter(request,getArtifactParameterName()); final boolean wasGatewayed = this.gatewayStorage.hasGatewayedAlready(request, serviceUrl); if (CommonUtils.isNotBlank(ticket) || wasGatewayed) { filterChain.doFilter(request, response); return; } final String modifiedServiceUrl; //log.debug(&quot;no ticket and no assertion found&quot;); if (this.gateway) { //log.debug(&quot;setting gateway attribute in session&quot;); modifiedServiceUrl = this.gatewayStorage.storeGatewayInformation(request, serviceUrl); } else { modifiedServiceUrl = serviceUrl; }/* if (log.isDebugEnabled()) { log.debug(&quot;Constructed service url: &quot; + modifiedServiceUrl); }*/ final String urlToRedirectTo = CommonUtils.constructRedirectUrl(this.casServerLoginUrl, getServiceParameterName(), modifiedServiceUrl, this.renew, this.gateway); /* if (log.isDebugEnabled()) { log.debug(&quot;redirecting to \\&quot;&quot; + urlToRedirectTo + &quot;\\&quot;&quot;); }*/ response.sendRedirect(urlToRedirectTo); } public final void setRenew(final boolean renew) { this.renew = renew; } public final void setGateway(final boolean gateway) { this.gateway = gateway; } public final void setCasServerLoginUrl(final String casServerLoginUrl) { this.casServerLoginUrl = casServerLoginUrl; } public final void setGatewayStorage(final GatewayResolver gatewayStorage) { this.gatewayStorage = gatewayStorage; }}","link":"/2018/05/15/cas%E6%A0%B9%E6%8D%AE%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E8%B7%B3%E8%BF%87%E9%AA%8C%E8%AF%81/"},{"title":"pythonä½¿ç”¨subprocessæŸ¥çœ‹è¿›ç¨‹å¹¶è¿‡æ»¤","text":"æ¥æºï¼š https://stackoverflow.com/questions/6780035/how-to-run-ps-cax-grep-something-in-python å°†proc1çš„è¾“å‡ºå½“ä½œproc2çš„è¾“å…¥æ¥å®ç° 12345678import subprocessproc1 = subprocess.Popen([&quot;ps&quot;,&quot;-ef&quot;],stdout=subprocess.PIPE)proc2 = subprocess.Popen(['grep', 'mysql'], stdin=proc1.stdout, stdout=subprocess.PIPE, stderr=subprocess.PIPE)proc1.stdout.close() # Allow proc1 to receive a SIGPIPE if proc2 exits.out, err = proc2.communicate()outline = '{0}'.format(out)","link":"/2020/11/23/python%E4%BD%BF%E7%94%A8subprocess%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E5%B9%B6%E8%BF%87%E6%BB%A4/"},{"title":"opensipså®‰è£…ä½¿ç”¨æ•´ç†","text":"éƒ¨åˆ†å†…å®¹æ¥è‡ª https://github.com/Ci-Jie/OpenSIPS ï¼Œå…¶ä»–çš„å¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯å‘ï¼ï¼ï¼ å®‰è£…opensips CentOS release 6.9 (Final) (å†…æ ¸ 4.10.4) MySQL 5.6 Opensips 2.1 å®‰è£…ä¾èµ–åº“ç­‰sudo yum -y install mysql mysql-server mysql-devel git make bison libdbi-dbd-mysql (å…·ä½“è¿˜æœ‰ä»€ä¹ˆå¿˜è®°äº†ï¼Œä¸èƒ½é‡ç°å½“æ—¶å®‰è£…çš„äº†ï¼Œåé¢ç¼ºä»€ä¹ˆå†è£…å§) æ£€å‡ºä»£ç cd ~/ &amp;&amp; git clone https://github.com/OpenSIPS/opensips.git -b 2.1 opensips_2_1 ä¿®æ”¹é…ç½®å¼€å¯mysqlæ”¯æŒvim ~/opensips_2_1/Makefile.conf.tmplate ,ç§»é™¤exclude_modulesä¸­db_mysql å®‰è£…opensips123cd ~/opensips_2_1sudo make allsudo make install å®‰è£å®Œåï¼Œä¿®æ”¹éƒ¨åˆ†opensipsctlrcæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼šsudo vim /usr/local/etc/opensips/opensipsctlrc å°†DBå¼€å¤´çš„ä¿®æ”¹ä¸ºè‡ªå·±çš„mysqlè¿æ¥æƒ…å†µï¼ˆäº‹å…ˆåˆ›å»ºå¥½opensipsç”¨æˆ·ï¼Œæˆ–è€…å·æ‡’ç”¨rootï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„å®‰å…¨ï¼‰ï¼ŒSIP_DOMAINä¿®æ”¹ä¸ºä¸»æœºip1234567891011121314151617181920212223## your SIP domainSIP_DOMAIN=yourip## chrooted directory# $CHROOT_DIR=&quot;/path/to/chrooted/directory&quot;## database type: MYSQL, PGSQL, ORACLE, DB_BERKELEY, or DBTEXT, ## by default none is loaded# If you want to setup a database with opensipsdbctl, you must at least specify# this parameter.DBENGINE=MYSQL## database hostDBHOST=localhost## database name (for ORACLE this is TNS name)DBNAME=opensips# database path used by dbtext or db_berkeleyDB_PATH=&quot;/usr/local/etc/opensips/dbtext&quot;## database read/write userDBRWUSER=opensips## password for database read/write userDBRWPW=&quot;opensipsrw&quot;## database super user (for ORACLE this is 'scheme-creator' user)DBROOTUSER=&quot;root&quot;# user name columnUSERCOL=&quot;username&quot; åˆå§‹åŒ–mysqlæ•°æ®åº“è¡¨sudo /usr/local/sbin/opensipsdbctl createï¼Œä¼šæç¤ºè¾“å…¥rootå¯†ç ï¼Œç„¶åä¼šå‡ºç°ä¸‹é¢çš„æç¤º12345678910MySQL password for root: INFO: test server charsetINFO: creating database opensips ...INFO: Core OpenSIPS tables succesfully created.Install presence related tables? (y/n): y INFO: creating presence tables into opensips ...INFO: Presence tables succesfully created.Install tables for imc cpl siptrace domainpolicy carrierroute userblacklist? (y/n): yINFO: creating extra tables into opensips ...INFO: Extra tables succesfully created. å¦‚æœå‡ºç° ERROR: database engine not specified, please setup one in the config scriptï¼Œçœ‹çœ‹æ˜¯å¦æœ‰æ‰§è¡Œæƒé™ è‡ªå®šä¹‰ç›‘å¬ç«¯å£åŠåè®®å¯ä»¥é€šè¿‡ä¿®æ”¹/usr/local/etc/opensips/opensips.cfgæ–‡ä»¶ï¼Œä¿®æ”¹listen=ï¼Œæ³¨æ„è¿™é‡Œçš„ipè¦ç”¨å¤–ç½‘ipï¼Œudpæ”¹ä¸ºtcpå¯ä»¥ä½¿ç”¨keepaliveï¼Œè®©æ‰‹æœºé•¿æ—¶é—´åœ¨çº¿ã€‚æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š12345678910advertised_address=myipalias=myip...listen=tcp:myip:5060 # CUSTOMIZE MEtcp_connection_lifetime=3600tcp_connect_timeout=5000tcp_keepalive=1tcp_keepcount=30tcp_keepidle=60tcp_keepinterval = 60 æ–°å¢domainåˆ°æ•°æ®åº“ è¿™ä¸ªdomainå°±æ˜¯ä¸Šé¢å¡«å†™çš„ipåœ°å€ï¼Œåˆ›å»ºç”¨æˆ·çš„æ—¶å€™ä¹Ÿè¦ç”¨åˆ°ã€‚ ç”¨rootè¿æ¥mysqlï¼Œé€‰æ‹©opensipsåº“ï¼Œæ’å…¥ä¸€æ¡è®°å½•INSERT INTO opensips.domain(domain) VALUES('your ip');(æ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±çš„ip) opensipsæ“ä½œå¯åŠ¨ /usr/local/sbin/opensipsctl start åœæ­¢ /usr/local/sbin/opensipsctl stop é‡å¯ /usr/local/sbin/opensipsctl restart åˆ›å»ºç”¨æˆ·/usr/local/sbin/opensipsctl add user@myourip password è¿™é‡Œçš„userå°±æ˜¯å·ç ï¼Œå°½é‡ç”¨æ•°å­—ï¼ˆé”®ç›˜ä¸Šæ²¡æœ‰å­—æ¯å•Šï¼‰ å®¢æˆ·ç«¯ PC Zoiper Linphone Ios Zoiper å…¶ä»–æœªæµ‹è¯•ï¼Œå¯ä»¥åˆ° http://www.voip-info.org/wiki/view/Open+Source+VOIP+Software æŸ¥æ‰¾ iosç«¯é…ç½®ï¼ˆå°½é‡åå°è¿è¡Œï¼‰å¦‚å›¾æ‰€ç¤ºï¼š","link":"/2018/01/29/opensips%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%95%B4%E7%90%86/"},{"title":"ä¸°ç”°èˆªç››è½¦æœºæŠ˜è…¾è®°å½•","text":"æœ€è¿‘æ¢äº†ä¸€ä¸ªè½¦æœºï¼Œä¹°çš„ä½é…ç‰ˆ2023æ¬¾é”‹å…°è¾¾çš„è½¦æœºï¼Œä¹Ÿå°±æ˜¯å¹¿ä¸œèˆªç››ç”Ÿäº§çš„ï¼Œè½¦æœºæœ¬èº«æ²¡æœ‰å¯¼èˆªç³»ç»Ÿã€ä¸ªäººä¸­å¿ƒç­‰ï¼Œä»…åŒ…å«æ”¶éŸ³æœºåŠŸèƒ½ä»¥åŠ3å¤§äº’è”ï¼Œè½¦æ¨¡æ˜¯é”‹å…°è¾¾ï¼Œæ”¹æˆè‡ªå·±è½¦çš„å›¾ç‰‡ï¼Œè¿™æ ·æ‰èƒ½å®Œç¾ã€‚ 2025-10-20 æ›´æ–°ï¼šå·²åˆ·å…¥ï¼Œå·²çœŸé¦™ã€‚ è½¦æœºä¹°å›æ¥å‘ç°æ˜¯2025å¹´ç”Ÿäº§çš„ï¼Œç³»ç»Ÿé»˜è®¤å°±æ˜¯T3_5610ï¼Œçœå»æ‰¾ç³»ç»Ÿå‡çº§äº†ã€‚ ä½†æ˜¯ï¼Œè¿™é‡Œè¦è¯´ä½†æ˜¯äº†ï¼Œè¿™ä¸ªè½¦æœºç³»ç»Ÿå’Œä»¥å‰çš„æœ‰ç‚¹ä¸å…¼å®¹çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¼šåœ¨è½¦è¾†å¯åŠ¨40åˆ†é’Ÿçš„æ—¶å€™å¼¹â€œè¯·æ£€æŸ¥DCMæ˜¯å¦å·²æ­£å¸¸è¿æ¥!â€, ä»¥åŠå‰é¢è¯´çš„è½¦æ¨¡æ˜¯é”‹å…°è¾¾çš„ï¼Œä¸æ˜¯æˆ‘çš„è½¦å‹ã€‚ äºæ˜¯åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹å‡çº§çš„ç³»ç»Ÿæ–‡ä»¶ï¼Œä¸€åŒæ“ä½œå‘ç°ï¼Œèˆªç››çš„ç³»ç»Ÿæ˜¯ext4å°è£…çš„ï¼Œç›´æ¥mountä¸€ä¸‹å°±å¯ä»¥ä¿®æ”¹äº†ï¼Œè¿™ä¸èƒ½é—²ç€å•Šï¼Œé©¬ä¸Šå¼€å§‹é­”æ”¹ã€‚ æ”¹è½¦æ¨¡å›¾ç‰‡ å‡çº§åŒ…é‡Œé¢æœ‰äº§å“å·®å¼‚è¡¨ï¼Œå¯ä»¥çœ‹åˆ°é”‹å…°è¾¾çš„ä»£å·æ˜¯908B, æˆ‘çš„è½¦(å®é™…ä¸Šæ˜¯æ‹‰é•¿ç‰ˆ)çš„ä»£ç æ˜¯ 208D/935Bï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ç³»ç»Ÿé‡Œé¢æ‰¾æ‰¾å¯¹åº”çš„è·¯å¾„ï¼Œæ›¿æ¢ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚é€šè¿‡grepæˆ–å…¶ä»–å‘½ä»¤ï¼Œå‘ç°åœ¨ vendor/etc/vehiclePic ï¼ŒæŠŠä¸‰ä¸ªç›®å½•ä¸‹çš„å›¾ç‰‡æ›¿æ¢ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚ å±è”½DCM ä¸€å¼€å§‹æˆ‘çš„æƒ³æ³•æ˜¯æ‰¾åˆ°å¯¹åº”çš„é…ç½®ï¼Œæˆ–è€…å¯¹äºŒè¿›åˆ¶æ–‡ä»¶åç¼–è¯‘æ³¨é‡Šæ‰é‚£éƒ¨åˆ†ä»£ç ã€‚ æŸ¥æ‰¾è¯·æ£€æŸ¥DCMæ˜¯å¦å·²æ­£å¸¸è¿æ¥!ï¼Œæ‰¾äº†å¥½ä¹…åªæ‰¾åˆ°ä¸€ä¸ªqtçš„ç¿»è¯‘æ–‡ä»¶ï¼Œè€Œä¸”å·²ç»æ‰¾ä¸åˆ°å…¶ä»–å…³è”å…³ç³»äº†ã€‚ä»¥ä¸ºæ²¡æ³•æ”¹äº†ï¼Œç»“æœå‘ç°è¿™ä¸ªç³»ç»Ÿç”¨systemdå¯åŠ¨çš„ï¼Œè€Œdcmæœ‰ä¸€ä¸ªå•ç‹¬çš„æœåŠ¡ï¼Œé‚£å°±ç®€å•äº†ï¼Œç›´æ¥å–æ¶ˆdcm.serviceå¯åŠ¨å°±å¯ä»¥äº†ã€‚ é‡æ–°è®¡ç®—system.img å’Œvendor.imgçš„md5å€¼ï¼Œæ›´æ”¹heads.txtå³å¯ æœ€é‡è¦çš„ï¼Œä¸Šé¢çš„æ›´æ”¹æ²¡çœŸæ­£åˆ·å…¥ç³»ç»Ÿæµ‹è¯•ï¼Œå› ä¸ºä¸‹è½½åˆ°çš„é•œåƒæ˜¯5500ç‰ˆæœ¬ï¼Œè€Œæˆ‘çš„å‡ºå‚å°±æ˜¯5610äº†ï¼Œé™çº§å¯èƒ½ä¼šæœ‰é£é™©ï¼Œç­‰æœ‰5610ç‰ˆæœ¬çš„é•œåƒåï¼Œå†æµ‹è¯•ã€‚","link":"/2025/08/29/%E4%B8%B0%E7%94%B0%E8%88%AA%E7%9B%9B%E8%BD%A6%E6%9C%BA%E6%8A%98%E8%85%BE%E8%AE%B0%E5%BD%95/"},{"title":"äººç”Ÿçš„æ„ä¹‰æ˜¯ä»€ä¹ˆ","text":"588dfb6650788b975e11fc536eb1ebc1671c585fc7ca4440bfaa4609a2a377abd46cde5fb768c3417c96444b8b203e30c172871021d560cf7d4863f3d70378ea52b201a24b66d538d2dd1e32dce3de322c8062e347a35c53decb87ba4083ac75c7005304e19e2db2094a4635bfd72e6ac94c3bdadd1c3134ce1aa2db82515f574919f4844a466f241f26743fba41b32611ee3fb841968a3e3680a291f66b7e6b300cf67340a2a05d185b806201960cddd218d80831a9451b8205615c9df66cc21a83fa3b99c4d2cf81bf0c719e5619ea56e9c6e9e4c2c8f774487bed2fb6025d51635ec5cce0aac2e5287ab6b458781a3d225743d1e98a7319d6e6f2769df3247bb9cd1c141cd20efb9a76166c2389bd8c3d6b394f4aa23c291da4782ac0557b9ce3e42f7e84d6c604d90bbbf27b26bf8755a91e86a71215ad9330b5a8212f3e2249526e3b621bf0d9c0f940cb03dbd100d807573d95f4993ccc9e8d117db463d799b2d81d071858caf6fa1cd04d0ff6bec744f8fa2ce9c452c2413d776a30a41279d89dc6add7e333f54d7b692e50c19346db9de0f68ee9c7851be586edf11889752919b8ae6ad8a6be072525efefdee38d4f3bb7cee2933eb7bd86c99183b09f2c69fcf6c4556ff13c79a2a42456fe2ea12adc626b7503a71dfc79e5cb58bd5fdd440f0a886b2372d4379a034dc8841f301d7cbd36a7875f1b0c96a38dc75e378531ef5c4ff6a28d84d47793a775abfc1e4588c2aba15922d2a25ca8496d992f506c22442c34bf1673182e6c7b6e093f095ce46f4694c3966ca3ab0b0cb9c91fde2ee55a0d132cf67acb9affb20c4c89384cb8d9bea9682cbd67067413b015357c2a0c78abce29a042a69810a24524df83364b397991bcf861c3e97c7ba31cc8fa5985fb8641e644b6aa2668b510929e21b5cc7485d681b2a4ddf755cf19b839a0c258bdd2773e72062946d89ab8a0fef7acf2441cbf4987764ec7cbde327221a8624793c70949db1660a21f2c645491b03d27340fde55bf23159eabeb781ff4279fe5fc00d6320158522358fa89458b01886e123c2a3d2509cef2bfecc4caa29e58f13f75db6fcec4f5b22c3e0b37582d896937193288ee82534f3d374dae214f3a72d3e5974b72a693f762d090a3efb3fd9885b40452928c38b1d5deb2c716159077fbfaeb97469633478541eb5171bf204cd3699d225765672dcb16e42acbb336fadc36bc7cb74da75a26db4c9b478faa922b3ec64bead5ef92c4ec1b84019521692fb6ec6034c07fa106f695cb40fccfd140f0dc71d97ab664e289a4a42c2aea952fb2386b4f23b599dafcc14cc7cbff3a009efd0e7f5827b002e6d62b435c652cff55f35b65abcb83bacfc3f5e1cf86fe70661933b79197b917aba134952b54f255bc686a12cebfc0cd52d8ee021d90675b8d450514acda99e078fba0a9b724d211902f4e297797a8a5696e0643d35ac4b012ff28e2d47923e41a32b722a940db7709dfd5c960a8236d41db42bfc85471de7a8877f5b02a5fd5761a4ba90647c48197c17c5b17c95e66f440cfe9457530c51668460cd913d85be372a91b5dc7c36adff0a4b998f141748a79e0e16809a73b1d9cd68f6c68ccdff5d977960fcd625f24c31c5a6eace586e84839003f37d716fe1d19a0fb9ea25c831bd4ee8001f95760faa0304f2d5089da6b3050cf406ba92e11460e6776a0443c06939d35270aab2186d20b17553e9c085f2cb7d32541e7814a4e10c4c2d2d22ca588c385f890d4c5ad118c775d878882986ca180a78bce7d4613c7bb5acf42f172f2a0570db82031deb87f0a7bf515bf58a0ebe6f0212ccbb2334fd6684ab9c6a8c3b7b7c9476be5d3c716b2f57b8c2a4823d19f3e841bd05ddee87ca1f34052773ad200cea3d661a9e45dee640957afc0634540e541bb4dcc73c453a93d584ce4a85872d52d23aeeb0c2ea81669d43aad7a125b8eb523a1f992beca2b63c71591ec9b8b98d6b7b48b8c24984ed14de4bee295d086e88bc6ab7c213973947d57c88cf88d9133f852cff48e1eca5abc3ba3112237f8b7d648aa1e58a5445e13e1fd34ae630a239cc963ff82dc703b88a59f4c3cbfcab22fd82967801a10fbe3fa556ee58e4e56f852a17e5f01cf35a18041a3b78620622195c7aadcadfe9e9ef8edb4a77457796b8c849a560e1de36567a0cb4810a94c2c68c472cdd746e85750db5510a4c83c22def1410b8419b3a1490292c4bd356a0af688a742139101b77c15707af2d6cebd4cd273679e2f192d8b57790711d45e6c80a17ca7e4d4b075aaea3970f6cad8d2094ead204612d8168b92624ed39efbf6446e973b855924c1e35121bb1f0adb662373205fa41ceac39c38ddc7145f63f339eaf79bf5798bd48413a2fde4c863f5bbb420790f5f44c9cbee05573ba6321b37298438935a908277c8104ce2b892294580fee07cb96ec801255c0d61c071c63e6be84949dcc625099b4ab32ce487a578043ea2ecf93148ac209454745258aa4aeeb7459360866f79e43d39cb0d90f94f64d2518cca8094f5c6c94a0a64edf9d007418d5435adb7039c8ea20c45a8b0d09f8b5af850b4587f6a2b9b5ff8485a091dc3af69851014403589d9a0204bd9567daf4812efccd326a14c8ddade1a0a470595c8c28a02129f509611f35e95f7ea7b31d81e2af54547a4f2bc2491c1a76ba6500ac2c909940aa0be58fa330000ad19b6b99e1a59bba8d42cfb606e37bd27bc733b8153f6fc85c9fe3e22e11fb438aaf7bc6860fc7da9d35fad500fa8432e495a460e24d9d7b1f73b21bfae6c0d91c85870f42259a967eea02b76bc9afd662a7edcb82f43b244bb2c3508b2c2356ede16e42fef8913c673f508c3b8d9ebcb9ba31cbb208670d90ef28b2e684433b7ee3e2aa436b1cf1819a5578e2afd5d377412426fbc28be2440f27f89db9e589e685b00a0ef0936225b08bc77f8c4b00ce7a989665cbc91c0805edbb11bd68a4eb4a3f5bd07e2800ef666209f59e0973d623de20bbb69fc4b79aeaf89dbfc3d4fb49e8561ef6615a56f9021f4b730e6329fe858ccc8e45ee9649df5b5cf84d23f63f026c9926fee79796dcb2b0e750eab4aef47977980bab6eacd6fd58d265cad216fe7d4e36aee67e5fcacad2ca0c630a677e70260d19bbe8f358fb0146717c455d137bb1cc97e0c72d231a4e5790dfe0f2c36909d4b0d46b6e075986597ef8df0159a217c2cbb20314c13499a59d938c69057029eb2c0972cff2f0ae4854e5f3f60bcdf3ba523ec0c81b5f25ba9a85bbcde3830d98fcda010e08cca16f7c15923fc92c8d8cb1f653ff44f4e13839fd2de09160b2cae02aa408cd70dd4022310e65a78d0739dc46418c95853da8aa57c5b78777d0dcda174e5bb3daab826cf52953e48a104166a4bb5252528005933f16253643818f0f10cfbfaa8574f0317cf34de10ef92605f3fc76b4e39ba2de8410d26f2c64fdf55d030a3c0fb19fe1103ea0e3b104397fecb0c1555fee1685e33003cff194ee3963d92cf2ad98cefbdc17532f999f3857e7fcdff92923e87c1478b9f242d7510c72260f43de518ae1fecc61102da861bf4ad12ce9d3f4d0a19d263ea0bc1464eea3e95307a05fe3d94b02f23a3bc3d35bc57235128958e57495b1ab9ff244714f0282e002c48ed328dbed3ae269f2922502dad32a607e5b48e2791646c1e3e45ed29a72c494cccf60b8a05b712b2c6acfe67f52944a9082d7ca90b7d960df2b172df62944ea5485c387377f6f84d3d3a9fa02f1be92e8a1a26374719b5089529fcfa795c3ea2251b07cb14c630b84560f528d4d7 Hey, password is required here.","link":"/2025/10/20/%E4%BA%BA%E7%94%9F%E7%9A%84%E6%84%8F%E4%B9%89%E6%98%AF%E4%BB%80%E4%B9%88/"},{"title":"ä»iOSè¿ç§»åˆ°SailfishOSè®¡åˆ’","text":"æœ¬æ–‡ä½œä¸ºä¸€ä¸ªå®éªŒæ€§è®¡åˆ’ï¼Œä»iOSè¿ç§»åˆ°SailfishOSé¦–å…ˆæˆ‘ä»¬æ¥æ•´ç†ä¸€ä¸‹è½¯ä»¶æ›¿ä»£å“ å³æ—¶é€šè®¯ç±» æ‹ç…§ç±» é‡‘èç±» æ–°é—»ç±» æ–‡æœ¬é˜…è¯»ç±» æµè§ˆå™¨ åœ°å›¾å¯¼èˆªç±» æ™ºèƒ½ç©¿æˆ´è®¾å¤‡æ‰‹æœºç«¯ SNSç±» ä¸€äº›å·¥å…·ç±» ä¸‹é¢å±•å¼€ä»¥ä¸Šå‡ ç§ç±»å‹æœ‰å“ªäº›åŠæ›¿ä»£å“å³æ—¶é€šè®¯ç±» QQ å¾®ä¿¡ Telegram IRC æ‹ç…§ç±» æš‚æ— éœ€æ±‚ æ–°é—»ç±» ITä¹‹å®¶ç­‰ ç½‘æ˜“æ–°é—»ç­‰ æ–‡æœ¬é˜…è¯»ç±» æš‚æ— éœ€æ±‚ æµè§ˆå™¨ Chrome åœ°å›¾å¯¼èˆªç±» é«˜å¾·åœ°å›¾ æ™ºèƒ½ç©¿æˆ´è®¾å¤‡æ‰‹æœºç«¯ æš‚æ—  SNSç±» å¾®åš ä¸€äº›å·¥å…·ç±» ç¿»è¯‘/æŸ¥è¯¢å¿«é€’/ç­‰ç­‰ #### æœªå®Œå¾…ç»­â€¦ æœ¬æ–‡å‡†å¤‡å¼ƒå‘å‚è€ƒå¦‚ä¸‹ï¼š https://raimue.blog/2018/01/09/goodbye-sailfish-os-and-jolla/","link":"/2018/08/09/%E4%BB%8EiOS%E8%BF%81%E7%A7%BB%E5%88%B0SailfishOS%E8%AE%A1%E5%88%92/"},{"title":"pythonå¤‡ä»½æ–‡ä»¶åˆ°è°·æ­ŒDrive","text":"åŸæ–‡ https://developers.google.com/drive/v3/web/quickstart/python å®‰è£…ä¾èµ–pip install --upgrade google-api-python-client ä¸‹è½½è®¤è¯æ–‡ä»¶ client_secret.jsonè°·æ­Œä¸Šçš„æ­¥éª¤: 12345678Use this wizard to create or select a project in the Google Developers Console and automatically turn on the API. Click Continue, then Go to credentials.On the Add credentials to your project page, click the Cancel button.At the top of the page, select the OAuth consent screen tab. Select an Email address, enter a Product name if not already set, and click the Save button.Select the Credentials tab, click the Create credentials button and select OAuth client ID.Select the application type Other, enter the name &quot;Drive API Quickstart&quot;, and click the Create button.Click OK to dismiss the resulting dialog.Click the file_download (Download JSON) button to the right of the client ID.Move this file to your working directory and rename it client_secret.json. å†…å®¹å¤§æ¦‚å¦‚ä¸‹ 1{&quot;installed&quot;:{&quot;client_id&quot;:&quot;334720361216-xxxxx.apps.googleusercontent.com&quot;,&quot;project_id&quot;:&quot;analog-fastness-167807&quot;,&quot;auth_uri&quot;:&quot;https://accounts.google.com/o/oauth2/auth&quot;,&quot;token_uri&quot;:&quot;https://accounts.google.com/o/oauth2/token&quot;,&quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;,&quot;client_secret&quot;:&quot;xxxxxx&quot;,&quot;redirect_uris&quot;:[&quot;urn:ietf:wg:oauth:2.0:oob&quot;,&quot;http://localhost&quot;]}} ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#!/usr/bin/env python# -*- coding: utf-8 -*-'''Created on 2017å¹´5æœˆ16æ—¥@author: debo.zhang'''#!/usr/bin/env pythonfrom __future__ import print_functionimport osfrom apiclient.discovery import buildfrom httplib2 import Httpfrom oauth2client import file, client, toolsfrom googleapiclient.http import MediaFileUploadtry: import argparse flags = argparse.ArgumentParser(parents=[tools.argparser]).parse_args()except ImportError: flags = NoneSCOPES = 'https://www.googleapis.com/auth/drive.file'store = file.Storage('storage.json')creds = store.get()if not creds or creds.invalid: home_dir = os.path.expanduser('~') credential_dir = os.path.join(home_dir, '.credentials') if not os.path.exists(credential_dir): os.makedirs(credential_dir) credential_path = os.path.join(credential_dir, 'client_secret.json') flow = client.flow_from_clientsecrets(credential_path, SCOPES) creds = tools.run_flow(flow, store, flags) \\ if flags else tools.run(flow, store)http = creds.authorize(Http())DRIVE = build('drive', 'v3', http=http)# DRIVE = build('drive', 'v2', http=creds.authorize(Http()))FILES = ( ('tmp.jpg', False),)for filename, convert in FILES: file_metadata = { 'name' : 'tmp.jpg' } media = MediaFileUpload('tmp.jpg', mimetype='image/jpeg') res = DRIVE.files().create(body=file_metadata, media_body=media, fields='id').execute() print(res)","link":"/2017/05/19/python%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E5%88%B0%E8%B0%B7%E6%AD%8CDrive/"},{"title":"ä»æ—¥å¿—ä¸­æŸ¥è¯¢é“¾æ¥æ–‡ä»¶ä¸­çš„é“¾æ¥æ˜¯å¦æœ€è¿‘æœ‰è®¿é—®","text":"é“¾æ¥æ–‡ä»¶a.txtå†…å®¹å¦‚ä¸‹ 12http://example.com/123.txthttp://example.com/456.txt æ—¥å¿—æ–‡ä»¶ä¸ºä»cdnä¸‹è½½çš„æˆ–è€…nginxçš„å‹ç¼©æ—¥å¿—ï¼Œgzæ ¼å¼ æ€è·¯ï¼šå¾ªç¯zcatå‹ç¼©æ–‡ä»¶ï¼Œç„¶åä¸¤ä¸ªæ–‡ä»¶éƒ½åšä¸€ä¸ªå¤„ç†ï¼Œå»æ‰é‡å¤çš„éƒ¨åˆ†ï¼Œç„¶åå¯¹è¿™ä¿©æ–‡ä»¶è¿›è¡Œé‡å¤ç»Ÿè®¡ï¼Œæœ‰çš„è¯è¯´æ˜é“¾æ¥æœ‰è®¿é—® ç®€å•çš„ç¤ºä¾‹ 12345678#!/bin/bashgzs=$(ls |grep gz)for gz in $gzs;do echo &quot;start $gz&quot; zcat $gz|awk '{print $7}'|sort -n|uniq -c|sort -n &gt; tmp.txt cat tmp.txt a.txt| sort -n| uniq -c|sort -n |awk '{if($1&gt;1) print $2}' &gt;&gt; exist.txtdone","link":"/2021/05/19/%E4%BB%8E%E6%97%A5%E5%BF%97%E4%B8%AD%E6%9F%A5%E8%AF%A2%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E9%93%BE%E6%8E%A5%E6%98%AF%E5%90%A6%E6%9C%80%E8%BF%91%E6%9C%89%E8%AE%BF%E9%97%AE/"},{"title":"ä½¿ç”¨Gitlab&#x2F;Bitbucketç­‰CIæ­å»ºè‡ªå·±çš„ä¸´æ—¶ä»£ç†","text":"è¿™ç¯‡æ–‡ç« åªæ˜¯ä»æŠ€æœ¯å±‚é¢æ¢è®¨å¯è¡Œæ€§ï¼Œä¸æ¥å—ä¸€åˆ‡åé©³ï¼ ä½¿ç”¨æ¡ä»¶ ä¸€ä¸ªæœ‰å¤–ç½‘çš„ä¸»æœº(frpéœ€è¦) gitlabæˆ–bitbucketè´¦å· frpæœåŠ¡ç«¯æ­å»ºå…·ä½“å¯ä»¥æŸ¥çœ‹frp githubä¸»é¡µ ä¸‹è½½å¯¹åº”ä½ æ“ä½œç³»ç»Ÿç‰ˆæœ¬çš„åŒ…ï¼ˆæˆ‘çš„dockeræ‰“åŒ…çš„å®¢æˆ·ç«¯æ˜¯0.17.0ç‰ˆæœ¬ï¼Œæƒ³ä½¿ç”¨æ–°ç‰ˆçš„å¯ä»¥è‡ªè¡Œæ‰“åŒ…ï¼‰ æœåŠ¡ç«¯é…ç½®å¦‚ä¸‹(frps.ini)ï¼š123[common]bind_port = 7000token = 123456 è§£å‹ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œå¯åŠ¨æœåŠ¡ç«¯ï¼š ./frps -c frps.ini æ³¨æ„å¼€é€š7000åŠéœ€è¦frpå®¢æˆ·ç«¯æ˜ å°„ç«¯å£(è¿™é‡Œç”¨åˆ°äº†6200) frpå®¢æˆ·ç«¯Gitlabå‚è§ https://gitlab.com/0312birdzhang/frp_proxy å®¢æˆ·ç«¯é…ç½®å¦‚ä¸‹(frpc.ini)ï¼š123456789[common]server_addr = 12.13.14.15server_port = 7000token = 123456[socks_proxy_6200]type = tcpplugin = socks5remote_port = 6200 forkä»£ç åï¼Œéœ€è¦ä¿®æ”¹server_addrã€server_portã€tokenã€remote_port ä¸ºä½ æœåŠ¡å™¨ç›¸å…³çš„ï¼Œç„¶åä¿å­˜å³å¯ã€‚ Bitbucketçš„å‚è€ƒï¼š bitbucket-pipelines.yml image: 0312birdzhang/frpc_proxy:v2 pipelines: default: - step: caches: - pip script: - cp frpc.ini /app/my_frpc.ini - /app/frpc -c /app/my_frpc.ini ä½¿ç”¨12.13.14.15:6200 å³æ˜¯ä½ çš„socks5ä»£ç†åœ°å€","link":"/2018/12/06/%E4%BD%BF%E7%94%A8Gitlab-Bitbucket%E7%AD%89CI%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%B4%E6%97%B6%E4%BB%A3%E7%90%86/"},{"title":"ä½¿ç”¨Openrestyå°†pastebinå†…å®¹æ ¼å¼åŒ–æ˜¾ç¤º","text":"å‰æƒ…æè¦è¿™é‡Œç”¨çš„ https://github.com/solusipse/fiche çš„pastebinæœåŠ¡ç«¯ï¼ŒåŠŸèƒ½ä¸å¤šä½†æ˜¯è´´ä¸€äº›ä»£ç æˆ–è€…æ—¥å¿—è¶³å¤Ÿäº† ç—›ç‚¹ficheå°†è´´çš„å†…å®¹ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œç„¶åç”¨nginxæ˜¾ç¤ºï¼Œå¦‚ä¸‹ï¼š12345678910server { listen 80; server_name mysite.com www.mysite.com; charset utf-8; location / { root /home/www/code/; index index.txt index.html; }}è¿™æ ·æ˜¾ç¤ºå‡ºæ¥çš„æ–‡æœ¬åœ¨è¡Œæ•°å¤šçš„æ—¶å€™å°±çœ‹ççœ¼äº† @_@ è§£å†³ç—›ç‚¹æˆ‘ä»¬å¯ä»¥ç”¨openrestyå°†è¦æ˜¾ç¤ºçš„æ–‡æœ¬æå‰æ‹¼å‡‘æˆhtmlï¼Œhtmlä¸­ç”¨googleçš„code prettifyæ ¼å¼åŒ–å¤„ç†ã€‚å¯¹äºç”¨curlè¯·æ±‚çš„æˆ‘ä»¬ä¸åšå¤„ç†ï¼Œç›´æ¥è¿”å›çº¯æ–‡æœ¬ã€‚ luaä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788local headers = ngx.req.get_headers()local reqUri = ngx.var.request_urilocal uri = ngx.var.urilocal userAgent = headers[&quot;user-agent&quot;]local codePath = &quot;/data/fiche/code&quot;if uri == &quot;/&quot; then ngx.say(&quot;Welcome to p.qiyuos.cn&quot;) ngx.exit(200)endif uri == &quot;/favicon.ico&quot; then ngx.exit(200)endlocal function file_exists(path) local file = io.open(path, &quot;rb&quot;) if file then file:close() end return file ~= nilend--è¯»å–æ–‡ä»¶åˆ°å†…å­˜local function readFile2Mem(file) local fp = io.open(file,&quot;r&quot;) if fp then return fp:read(&quot;*all&quot;) endendlocal codeBeauty1 = [[&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot; /&gt;&lt;script src=&quot;https://cdn.bootcss.com/prettify/r298/run_prettify.min.js?autoload=true&amp;amp;lang=html&quot;&gt;&lt;/script&gt;&lt;style type=&quot;text/css&quot;&gt;body { background: #fff;}pre.prettyprint { background-color: #eee;}.prettyprint ol.linenums &gt; li { list-style-type: decimal; }.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.clo,.opn,.pun{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.kwd,.tag,.typ{font-weight:700}.str{color:#060}.kwd{color:#006}.com{color:#600;font-style:italic}.typ{color:#404}.lit{color:#044}.clo,.opn,.pun{color:#440}.tag{color:#006}.atn{color:#404}.atv{color:#060}}pre.prettyprint{padding:2px;border:1px solid #888}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;pre class=&quot;prettyprint linenums&quot; id=&quot;quine&quot;&gt;]]local codeBeauty2 = [[&lt;/pre&gt;&lt;script type=&quot;text/javascript&quot;&gt;//&lt;![CDATA[(function () { function htmlEscape(s) { return s;// .replace(/&amp;/g, '&amp;amp;')// .replace(/&lt;/g, '&amp;lt;')// .replace(/&gt;/g, '&amp;gt;'); } // this page's own source code var quineHtml = htmlEscape( document.getElementById(&quot;quine&quot;).innerHTML ); // Highlight the operative parts: quineHtml = quineHtml.replace( /&amp;lt;script src[\\s\\S]*?&amp;gt;&amp;lt;\\/script&amp;gt;|&amp;lt;!--\\?[\\s\\S]*?--&amp;gt;|&amp;lt;pre\\b[\\s\\S]*?&amp;lt;\\/pre&amp;gt;/g, '&lt;span class=&quot;operative&quot;&gt;$&amp;&lt;\\/span&gt;'); // insert into PRE document.getElementById(&quot;quine&quot;).innerHTML = quineHtml;})();//\\]\\]&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]if not file_exists(codePath .. uri .. &quot;/index.txt&quot;) then ngx.exit(404)endlocal paste = readFile2Mem(codePath .. uri .. &quot;/index.txt&quot;)if not userAgent or string.len(userAgent) &lt; 20 or not string.match(userAgent, &quot;Mozilla&quot;) then ngx.say(paste) ngx.exit(200)else ngx.say(codeBeauty1 .. paste .. codeBeauty2) ngx.exit(200)end nginx é…ç½®å¦‚ä¸‹ï¼š123456789server { listen 80; server_name mysite.com www.mysite.com; charset utf-8; location / { default_type text/html; content_by_lua_file &quot;/usr/local/openresty/scripts/fiche.lua&quot;; }} æœ€åä»£ç è¿˜ä¸å®Œå–„ï¼Œå¯èƒ½å­˜åœ¨ä¸€äº›bugï¼Œæ¬¢è¿æå‡º","link":"/2018/06/25/%E4%BD%BF%E7%94%A8Openresty%E5%B0%86pastebin%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%98%BE%E7%A4%BA/"},{"title":"ä½¿ç”¨DaemonSet+Taint&#x2F;Tolerations+NodeSelectoréƒ¨ç½²Nginx ingress controller","text":"ä½¿ç”¨DaemonSet+NodeSelector+Tolerationsçš„æ–¹å¼å®šä¹‰Nginx Ingress Controllerï¼Œç»™ä¸“é—¨èŠ‚ç‚¹æ‰“ä¸ŠLabel+Taintï¼Œä½¿å¾—è¿™äº›ä¸“é—¨èŠ‚ç‚¹åªè¿è¡ŒNginx Ingress Controllerï¼Œè€Œä¸ä¼šè°ƒåº¦å’Œè¿è¡Œå…¶ä»–ä¸šåŠ¡å®¹å™¨ï¼Œåªç”¨æ¥åšä»£ç†èŠ‚ç‚¹ã€‚ åœ¨Kuberntes Clusterä¸­å‡†å¤‡Nä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºä»£ç†èŠ‚ç‚¹ã€‚åœ¨è¿™Nä¸ªèŠ‚ç‚¹ä¸Šåªéƒ¨ç½²Nginx Ingress Controllerï¼ˆç®€ç§°NICï¼‰å®ä¾‹ï¼Œä¸ä¼šè·‘å…¶ä»–ä¸šåŠ¡å®¹å™¨ã€‚ ç»™ä»£ç†èŠ‚ç‚¹æ‰“ä¸ŠNoExecute Taintï¼Œé˜²æ­¢ä¸šåŠ¡å®¹å™¨è°ƒåº¦æˆ–è¿è¡Œåœ¨è¿™äº›èŠ‚ç‚¹ã€‚ kubectl taint nodes 10.8.8.234 LB=NIC:NoExecute ç»™ä»£ç†èŠ‚ç‚¹æ‰“ä¸ŠLabelï¼Œè®©NICåªéƒ¨ç½²åœ¨æ‰“äº†å¯¹åº”Lableçš„èŠ‚ç‚¹ä¸Šã€‚ kubectl label nodes 10.8.8.234 LB=NIC ä¿®æ”¹calico-nodeé…ç½®ï¼Œè®©calicoå¯ä»¥åœ¨NoExecuteèŠ‚ç‚¹ä¸Šè¿è¡Œ 1234567891011 spec: ... spec: tolerations: - key: &quot;LB&quot; operator: &quot;Exists&quot; effect: &quot;NoExecute&quot; ``` - å®šä¹‰DaemonSet Yamlæ–‡ä»¶ï¼Œæ³¨æ„åŠ ä¸ŠTolerationså’ŒNode Selectorã€‚(æ³¨æ„å…ˆåˆ›å»ºserviceAccountã€roleç­‰) apiVersion: extensions/v1beta1 kind: DaemonSet metadata: annotations: deployment.kubernetes.io/revision: &quot;4&quot; labels: k8s-app: nginx-ingress-controller name: nginx-ingress-controller namespace: kube-system spec: selector: matchLabels: k8s-app: nginx-ingress-controller template: metadata: annotations: prometheus.io/port: &quot;10254&quot; prometheus.io/scrape: &quot;true&quot; creationTimestamp: null labels: k8s-app: nginx-ingress-controller spec: # åŠ ä¸Šå¯¹åº”çš„Node Selector nodeSelector: LB: NIC # åŠ ä¸Šå¯¹åº”çš„Tolerations tolerations: - key: &quot;LB&quot; operator: &quot;Equal&quot; value: &quot;NIC&quot; effect: &quot;NoExecute&quot; containers: - args: - /nginx-ingress-controller - --default-backend-service=$(POD_NAMESPACE)/default-http-backend - --tcp-services-configmap=$(POD_NAMESPACE)/nginx-tcp-ingress-configmap - --configmap=$(POD_NAMESPACE)/nginx-configuration env: - name: POD_NAME valueFrom: fieldRef: apiVersion: v1 fieldPath: metadata.name - name: POD_NAMESPACE valueFrom: fieldRef: apiVersion: v1 fieldPath: metadata.namespace image: dceph02.rmz.flamingo-inc.com:8888/mynginx/nginx-ingress-controller:0.9.0-beta.11 imagePullPolicy: IfNotPresent livenessProbe: failureThreshold: 3 httpGet: path: /healthz port: 10254 scheme: HTTP initialDelaySeconds: 10 periodSeconds: 10 successThreshold: 1 timeoutSeconds: 1 name: nginx-ingress-controller ports: - containerPort: 80 hostPort: 80 protocol: TCP - containerPort: 443 hostPort: 443 protocol: TCP readinessProbe: failureThreshold: 3 httpGet: path: /healthz port: 10254 scheme: HTTP periodSeconds: 10 successThreshold: 1 timeoutSeconds: 1 resources: {} hostNetwork: true serviceAccount: ingress serviceAccountName: ingress 123 - åˆ›å»ºdefault backendæœåŠ¡ apiVersion: extensions/v1beta1 kind: Deployment metadata: name: default-http-backend labels: k8s-app: default-http-backend namespace: kube-system spec: replicas: 1 template: metadata: labels: k8s-app: default-http-backend spec: terminationGracePeriodSeconds: 60 containers: - name: default-http-backend # Any image is permissable as long as: # 1. It serves a 404 page at / # 2. It serves 200 on a /healthz endpoint image: gcr.io/google_containers/defaultbackend:1.0 livenessProbe: httpGet: path: /healthz port: 8080 scheme: HTTP initialDelaySeconds: 30 timeoutSeconds: 5 ports: - containerPort: 8080 resources: limits: cpu: 10m memory: 20Mi requests: cpu: 10m memory: 20Mi apiVersion: v1 kind: Service metadata: name: default-http-backend namespace: kube-system labels: k8s-app: default-http-backend spec: ports: port: 80 targetPort: 8080selector: k8s-app: default-http-backend12345678910æ ¹æ®default-backend.yamlåˆ›å»ºå¯¹åº”çš„Deploymentå’ŒServiceã€‚ `kubectl create -f default-backend.yaml`- æ ¹æ®DaemonSet Yamlåˆ›å»ºNIC DaemonSetï¼Œå¯åŠ¨NICã€‚ `kubectl create -f nginx-ingress-daemonset.yaml`è‡³æ­¤ï¼ŒNICå·²ç»è¿è¡Œåœ¨ä»£ç†èŠ‚ç‚¹ä¸Šäº†ï¼Œä¸‹é¢ä¸ºæµ‹è¯•å†…å®¹ã€‚- (é€‰æ‹©æ€§)ç¡®è®¤NICå¯åŠ¨æˆåŠŸåï¼Œåˆ›å»ºæµ‹è¯•ç”¨çš„æœåŠ¡ã€‚ kubectl run echoheaders â€“image=gcr.io/google_containers/echoserver:1.8 â€“replicas=1 â€“port=8080kubectl expose deployment echoheaders â€“port=80 â€“target-port=8080 â€“name=echoheaders-xkubectl expose deployment echoheaders â€“port=80 â€“target-port=8080 â€“name=echoheaders-y12åˆ›å»ºæµ‹è¯•ç”¨çš„Ingress Object apiVersion: extensions/v1beta1kind: Ingressmetadata:name: echomapnamespace: defaultspec:rules: host: foo.bar.com http: paths: backend: serviceName: echoheaders-x servicePort: 80 path: /foo host: bar.baz.com http: paths: backend: serviceName: echoheaders-y servicePort: 80 path: /bar backend: serviceName: echoheaders-x servicePort: 80 path: /foo123- (é€‰æ‹©æ€§)æŸ¥çœ‹ingressçš„ä»£ç†åœ°å€ [root@host ~]# kubectl describe ing echomapName: echomapNamespace: defaultAddress: 10.8.8.234Default backend: default-http-backend:80 (172.254.109.193:8080)Rules:Host Path Backends foo.bar.com /foo echoheaders-x:80 (&lt;none&gt;) bar.baz.com /bar echoheaders-y:80 (&lt;none&gt;) /foo echoheaders-x:80 (&lt;none&gt;) Annotations: Events: FirstSeen LastSeen Count From SubObjectPath Type Reason Message 35m 35m 1 ingress-controller Normal CREATE Ingress default/echomap 35m 35m 1 ingress-controller Normal UPDATE Ingress default/echomap 123- æµ‹è¯• [root@host ~]# curl 10.8.8.234/foo -H â€˜Host: foo.bar.comâ€™ Hostname: echoheaders-1076692255-p1ndv Pod Information: -no pod information available- Server values: server_version=nginx: 1.13.3 - lua: 10008 Request Information: client_address=172.254.246.192 method=GET real path=/foo query= request_version=1.1 request_uri=http://foo.bar.com:8080/foo Request Headers: accept=*/* connection=close host=foo.bar.com user-agent=curl/7.29.0 x-forwarded-for=10.8.8.234 x-forwarded-host=foo.bar.com x-forwarded-port=80 x-forwarded-proto=http x-original-uri=/foo x-real-ip=10.8.8.234 x-scheme=http Request Body: -no body in request- [root@dceph04 ~]# curl 10.8.8.234/foo -H â€˜Host: bar.baz.comâ€™ Hostname: echoheaders-1076692255-p1ndv Pod Information: -no pod information available- Server values: server_version=nginx: 1.13.3 - lua: 10008 Request Information: client_address=172.254.246.192 method=GET real path=/foo query= request_version=1.1 request_uri=http://bar.baz.com:8080/foo Request Headers: accept=*/* connection=close host=bar.baz.com user-agent=curl/7.29.0 x-forwarded-for=10.8.8.234 x-forwarded-host=bar.baz.com x-forwarded-port=80 x-forwarded-proto=http x-original-uri=/foo x-real-ip=10.8.8.234 x-scheme=http Request Body: -no body in request- ` å‚è€ƒhttps://my.oschina.net/jxcdwangtao/blog/1523812","link":"/2017/12/08/%E4%BD%BF%E7%94%A8DaemonSet-Taint-Tolerations-NodeSelector%E9%83%A8%E7%BD%B2Nginx-ingress-controller/"},{"title":"ä½¿ç”¨dockerç¼–è¯‘æ‰“åŒ…sailfishos","text":"å¼€å‘ ubuntu HA_BUILD ç”¨å®˜æ–¹çš„ubuntué•œåƒå³å¯ï¼Œ16.04æˆ–18.04éƒ½å¯ä»¥ï¼Œä¸è¦ç”¨æœ€æ–°çš„20.04ã€‚ä¸€èˆ¬æ¥è¯´å¯åŠ¨ä¹‹åçš„é•œåƒé™¤äº†æ‰‹åŠ¨æŒ‡å®šçš„ç›®å½•æ˜¯æŒä¹…åŒ–çš„ï¼Œå…¶ä»–çš„ä¼šé‡å¯åå¤±æ•ˆï¼Œæ‰€ä»¥æœ€å¥½è‡ªå·±åšä¸€ä¸ªé•œåƒï¼ŒæŠŠå®‰å“ç¼–è¯‘ç¯å¢ƒå®‰è£…ä¸Šã€‚ å¯åŠ¨æ—¶æ˜ å°„æœ¬åœ°ç›®å½•ï¼Œå½“ä½œANDROID_ROOTç›®å½•ã€‚ mer MER_BUILD OBS gitlab ci","link":"/2019/05/27/%E4%BD%BF%E7%94%A8docker%E7%BC%96%E8%AF%91%E6%89%93%E5%8C%85sailfishos/"},{"title":"ä½¿ç”¨openrestyæ­ä¸€ä¸ªç±»ä¼¼ip.cnçš„æ¥å£","text":"Openrestyæ˜¯ä»€ä¹ˆOpenRestyÂ® æ˜¯ä¸€ä¸ªåŸºäº Nginx ä¸ Lua çš„é«˜æ€§èƒ½ Web å¹³å°ï¼Œå…¶å†…éƒ¨é›†æˆäº†å¤§é‡ç²¾è‰¯çš„ Lua åº“ã€ç¬¬ä¸‰æ–¹æ¨¡å—ä»¥åŠå¤§å¤šæ•°çš„ä¾èµ–é¡¹ã€‚ç”¨äºæ–¹ä¾¿åœ°æ­å»ºèƒ½å¤Ÿå¤„ç†è¶…é«˜å¹¶å‘ã€æ‰©å±•æ€§æé«˜çš„åŠ¨æ€ Web åº”ç”¨ã€Web æœåŠ¡å’ŒåŠ¨æ€ç½‘å…³ã€‚ å®˜ç½‘ https://openresty.org/cn/ Openrestyè§£å†³äº†nginxä¸èƒ½å¾ˆå¥½çš„æ·»åŠ ä¸€äº›é€»è¾‘åˆ¤æ–­çš„ç—›ç‚¹ï¼Œè€Œä¸”åˆä¸å¤±æ€§èƒ½ã€‚ æ¥å£ä»£ç ä»£ç ç®€å•åˆ°ä¸èƒ½å†ç®€å•äº†ï¼Œå°±ä¸‰è¡Œ 123local ip = ngx.var.remote_addrngx.header[&quot;Content-Type&quot;] = &quot;text/plain charset=utf-8&quot;ngx.say(ip) nginx.confé…ç½®ï¼š1234567...http{ ... lua_package_path &quot;/usr/local/openresty/script/waf/?.lua;/usr/local/openresty/lualib/?.lua&quot;; ... vhosté…ç½®1234567891011121314151617181920server{ listen 80; server_name ip.testing.cn; index index.html index.htm index.php; charset utf-8;# åŸç”Ÿnginxçš„æ–¹å¼ï¼Œè²Œä¼¼æ›´ç®€å•... # location / {# default_type text/plain;# return 200 $remote_addr;# } location /{ content_by_lua_block { local ip = ngx.var.remote_addr ngx.header[&quot;Content-Type&quot;] = &quot;text/plain charset=utf-8&quot; ngx.say(ip) } }}","link":"/2018/06/05/%E4%BD%BF%E7%94%A8openresty%E6%90%AD%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%BC%BCip-cn%E7%9A%84%E6%8E%A5%E5%8F%A3/"},{"title":"ä½¿ç”¨yavijavaåˆ›å»ºå…¼å®¹ä½ç‰ˆæœ¬çš„è™šæ‹Ÿæœº","text":"ç—›ç‚¹åœ¨ä½¿ç”¨ https://github.com/yavijava/yavijava åˆ›å»ºè™šæ‹Ÿæœºçš„è¿‡ç¨‹ä¸­ï¼Œé»˜è®¤ä¼šå°†è™šæ‹Ÿæœºçš„å…¼å®¹æ€§è‡ªåŠ¨è®¾ç½®ä¸ºESXIçš„ç‰ˆæœ¬ï¼Œå¦‚åœ¨ESXI 6.5ä¸Šåˆ›å»ºçš„è™šæ‹Ÿæœºï¼Œå…¶å…¼å®¹æ€§åˆ™ä¸º ESXi 6.5 åŠæ›´é«˜ç‰ˆæœ¬ (è™šæ‹Ÿæœºç‰ˆæœ¬ 13), è¿™æ ·å¯¼è‡´è¿ç§»çš„æ—¶å€™ä¸èƒ½å°†è¿™ä¸ªè™šæ‹Ÿæœºè¿ç§»åˆ°å°äºESXI 6.5ç‰ˆæœ¬çš„ä¸»æœºä¸Šã€‚ è§£å†³åœ¨æŸ¥è¯¢å¾ˆå¤šèµ„æ–™ä¹‹åï¼Œç¡®è®¤å¯ä»¥é€šè¿‡ https://www.altaro.com/vmware/4-ways-to-downgrade-the-vm-hardware-version/ æ–‡ä¸­çš„æ–¹æ³•ï¼Œå°†è™šæ‹Ÿæœºå…ˆä»æ¸…å•ä¸­åˆ æ‰ï¼Œæ›´æ”¹è™šæ‹Ÿæœºçš„vmxæ–‡ä»¶ï¼Œå°†virtualHW.versionæ”¹ä¸ºéœ€è¦çš„ç‰ˆæœ¬ï¼Œé‡æ–°æ³¨å†Œè™šæ‹Ÿæœºå³å¯ã€‚ åœ¨å·²çŸ¥äº†è¿™äº›æ–¹æ³•ä¹‹åï¼Œè¿›è¡Œå°è¯•, å‘ç°åœ¨åˆå§‹åŒ–è™šæ‹Ÿæœºä¹‹åæ˜¯æ— æ³•å†è¿›è¡Œæ›´æ”¹çš„ï¼Œåªæœ‰åˆ›å»ºçš„æ—¶å€™è®¾ç½®å¥½æ‰è¡Œï¼Œå¦‚ä¸‹å³å¯ã€‚ 1234567891011vmSpec.setVersion(&quot;vmx-10&quot;); # 10 è¡¨ç¤º esxi 5.5// call the createVM_Task method on the vm folderTask task = vmFolder.createVM_Task(vmSpec, rp, null);String result = task.waitForTask();if(result == Task.SUCCESS){ System.out.println(&quot;VM Created Sucessfully&quot;);}else{ System.out.println(&quot;VM could not be created. &quot;); return;}","link":"/2020/08/21/%E4%BD%BF%E7%94%A8yavijava%E5%88%9B%E5%BB%BA%E5%85%BC%E5%AE%B9%E4%BD%8E%E7%89%88%E6%9C%AC%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"title":"åœ¨å°ç±³å¹³æ¿5ä¸Šè¿è¡Œopenpilot","text":"å‰è¨€ä¹‹å‰æˆ‘å‡ºè¿‡ä¸€æœŸå…³äºå¦‚ä½•åœ¨å°ç±³å¹³æ¿5ä¸Šè¿è¡Œopenpilotçš„è§†é¢‘ï¼Œå„ä½å¯ä»¥å…ˆå»å›´è§‚ä¸€ä¸‹ https://www.bilibili.com/video/BV1HqKPedEkC/ è¿™ä¸ªç‰ˆæœ¬æ²¡æœ‰ç”¨åˆ°GPUè¿›è¡ŒåŠ é€Ÿï¼Œå¯¼è‡´æ¨ç†èµ·æ¥å¾ˆæ…¢ï¼Œè¾¾ä¸åˆ°è¿è¡Œopenpilotè¦æ±‚çš„ä¸€ç§’20å¸§çš„è¦æ±‚ï¼Œæ‰€ä»¥åé¢ä¸äº†äº†ä¹‹äº†ã€‚ é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜æœ‰è¿™ç¯‡æ–‡ç« å‘¢ï¼Ÿå…¨é é­”æ–¹æ´¾å®˜æ–¹æ‰€èµ ğŸ¤¯ ï¼ˆä¹°äº†ä¸ªrubikpi 3æ¿å­ï¼Œç»“æœDebianç³»ç»Ÿæ²¡æœ‰OpenCLé©±åŠ¨ï¼Œé«˜é€šLinuxåˆä¸æ˜¯ä¸€èˆ¬äººèƒ½ç©çš„äº†çš„â€¦ åœ¨æˆ‘è‹¦è‹¦å¯»æ‰¾ç”¨ä»€ä¹ˆæ–¹å¼æ‰å¯ä»¥ç”¨GPUé©±åŠ¨tinygradè¿è¡Œçš„æ—¶å€™,äº‹æƒ…å‡ºç°äº†è½¬æœºâ€¦ é‚£å°±æ˜¯æˆ‘å‘ç°äº†é«˜é€šçš„openclé©±åŠ¨ï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œæ— æ•Œäº†ï¼å‚è§è§†é¢‘ https://www.bilibili.com/video/BV1Pkg3zSEG2/ ç„¶é¹…ï¼Œé­”æ–¹æ´¾è‡ªå·±é­”æ”¹äº†mesaé©±åŠ¨ï¼Œå¯¼è‡´ä½ å®‰è£…åˆ«çš„ï¼Œæˆ–è€…upgradeä¸€ä¸‹ç³»ç»Ÿï¼Œé‚£ä¹ˆæ˜¾ç¤ºå°±æŒ‚äº†ã€‚ è¿™è®©æˆ‘åœ¨è°ƒè¯•openpilotè¿è¡Œæ—¶æŠ¥é”™å¸¦æ¥äº†å·¨å¤§å›°éš¾ï¼Œåé¢ä¸€æƒ³ï¼Œæˆ‘ä¸æ˜¯è¿˜æœ‰ä¸€å°å°ç±³å¹³æ¿5å˜› æ‹¿å‡ºåƒç°çš„å¹³æ¿ï¼Œåˆ·å›ubuntu 24.04ï¼Œè£…ä¸Šé«˜é€šé©±åŠ¨ï¼Œè·‘åˆ†ï¼Œå¯åŠ¨ï¼10mså¤šä¸€ç‚¹ï¼Œå¤Ÿç”¨äº†, å¼€å§‹æŠ˜è…¾ã€‚ å®‰è£…è¿™é‡Œè¿˜æ˜¯å»çœ‹æˆ‘çš„è§†é¢‘ï¼Œéœ€è¦å¼ºè°ƒçš„å‡ ç‚¹ï¼š ä¸‹è½½å¥½æ–‡ä»¶æ–­ç½‘å®‰è£… è¿™ä¸ªç‰ˆæœ¬çš„å†…æ ¸å­˜åœ¨æœ‰æ—¶å€™ç‚¹ä¸äº®å±å¹•çš„æƒ…å†µï¼Œå¼ºåˆ¶é‡å¯å³å¯ã€‚ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„å†…æ ¸å¯ä»¥å……ç”µï¼Œæƒè¡¡ä¹‹ä¸‹è¿˜æ˜¯ç”¨çš„è¿™ä¸ªæ—§å†…æ ¸ã€‚ åˆ·åæˆ–è€…åˆ·å›åŸå‚ç³»ç»Ÿåˆä¸Šé”äº†ï¼Œç”¨å®Œé¢åº¦äº†ï¼Œå¯ä»¥ç”¨å…æˆæƒå·¥å…·ï¼Œå…·ä½“å¯ä»¥å»å°ç±³å¹³æ¿5ç”µæŠ¥ç¾¤é‡Œæ‰¾ å…è´£å£°æ˜ï¼Œä¸€å®šæ˜¯è¦æœ‰åŠ¨æ‰‹èƒ½åŠ›ï¼Œä¸ç„¶è¿˜æ˜¯çœ‹çœ‹ç®—äº†ã€‚ ä¸Šè½¦æµ‹è¯• éœ€è¦ä¸€ä¸ªotg usb hub éœ€è¦é»‘ç†Šï¼Œä¸è¦ä¸€æ ¹çº¿çš„ç‰ˆæœ¬ï¼Œçƒ§åä¸è´Ÿè´£ éœ€è¦usbæ‘„åƒå¤´ éœ€è¦usb A to Açº¿ï¼Œç”¨æ¥è¿é»‘ç†Šåˆ°usb hub ç°åœ¨æ˜¯è·‘çš„carrotpilotç‰ˆæœ¬ï¼Œåç»­çœ‹çœ‹æä¸ªdpã€spè·‘ã€‚ ä¸‹è½½é“¾æ¥å…è´£å£°æ˜ï¼šå¯¹å¹³æ¿ä»¥åŠè½¦è¾†é€ æˆçš„æŸåï¼Œæœ¬äººä¸è´Ÿè´£ã€‚æœ¬é¡¹ç›®ä»…ä½œä¸ºè¾…åŠ©é©¾é©¶ç ”ç©¶ä½¿ç”¨ï¼Œåˆ‡å‹¿åœ¨å…¬å…±é“è·¯ä½¿ç”¨ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é€ æˆçš„è½¦è¾†åŠäººå‘˜äº‹æ•…ï¼Œæœ¬äººä¸è´Ÿè´£ã€‚æœ¬é¡¹ç›®å…è´¹å¼€æºï¼Œç¦æ­¢ç”¨äºå•†ä¸šç”Ÿäº§ã€‚éµå®ˆäº¤è§„ï¼Œåˆæ³•ç ”ç©¶ã€‚ é“¾æ¥ï¼šhttps://pan.quark.cn/s/76409190f443æå–ç ï¼šAfEB å®‰è£…å®Œæˆçš„ä»£ç ä¸æ˜¯æœ€æ–°çš„ï¼Œå»è¿™é‡Œæ›´æ–° https://github.com/0312birdzhang/openpilot/commits/letr14h-pc-noble æœ‰ä½¿ç”¨ä¸Šçš„é—®é¢˜å¯ä»¥åœ¨bç«™ç§ä¿¡æˆ‘ï¼Œæœ‰æ—¶é—´çœ‹åˆ°äº†æˆ‘éƒ½ä¼šå›å¤çš„ã€‚ æœ¬æ¥è¿˜æƒ³åšä¸€æœŸè§†é¢‘çš„ï¼Œä½†æ˜¯æ‡’äº†ä¸æƒ³åšäº†ï¼Œè€Œä¸”è¿˜æœ‰å¾ˆå¤šâ€œåœ£æ¯â€ æåˆ°èµ„è´¨ã€å®‰å…¨ç­‰ç­‰è„‘æŠ½é—®é¢˜ï¼Œæ‡’å¾—å¯¹çº¿äº†ã€‚è€Œä¸”æœ‰å°ç±³å¹³æ¿5å’Œç©openpilotçš„ç”¨æˆ·ä¹Ÿä¸å¤šï¼Œå°±å†™è¿™ä¹ˆå¤šå§ï¼Œçœ‹åˆ°çš„æ˜¯ç¼˜åˆ†ã€‚","link":"/2025/07/27/%E5%9C%A8%E5%B0%8F%E7%B1%B3%E5%B9%B3%E6%9D%BF5%E4%B8%8A%E8%BF%90%E8%A1%8Copenpilot/"},{"title":"ä½¿ç”¨æµè§ˆå™¨æŒ–çŸ¿","text":"å·²GG å¦‚ä¸Šæ‰€ç¤ºï¼Œå¦‚æœä½ æµè§ˆå™¨çš„å¹¿å‘Šæ‹¦æˆªæ’ä»¶æ­£å¸¸çš„è¯ã€‚ å…·ä½“ä½¿ç”¨è§ï¼šhttps://coinhive.com/documentation ï¼Œæœ‰å››ç§æ¨¡å¼ï¼Œé™é»˜åŠ è½½çš„åŸºæœ¬ä¸Šè¢«adblockæ‰äº†ï¼Œå»ºè®®ç”¨simple ui æˆ–è€…è‡ªå·±æ­ä»£ç†ï¼šhttps://github.com/cazala/coin-hive-stratum","link":"/2017/12/29/%E4%BD%BF%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8C%96%E7%9F%BF/"},{"title":"å¦‚ä½•åœ¨rk3588ä¸Šè¿è¡Œopenpilot[1]","text":"æœ¬æ–‡æ¥è‡ª https://birdzhang.xyz/2024/04/14/å¦‚ä½•åœ¨rk3588ä¸Šè¿è¡Œopenpilot-1/ è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ 1. å‰è¨€2024-07-03 æ›´æ–°ï¼Œç°åœ¨çš„openpilotå·²ç»å¯¹aarch64è®¾å¤‡æœ‰è‰¯å¥½çš„æ”¯æŒï¼Œä¸ç”¨å†å»æ”¹å¾ˆå¤šSConstructè¿›è¡Œä¿®æ”¹äº†ï¼ŒğŸ‘ ä½¿ç”¨rk3588è·‘openpilotçš„éš¾ç‚¹ï¼Œä¸»è¦åœ¨æ¨¡å‹çš„é€‚é…ä¸Šï¼ˆç›¸æœºéƒ¨åˆ†å·²ç»å¾ˆå¥½çš„è§£å†³äº†ï¼Œä¹‹å‰æ²¡æœ‰visionipcçš„æ—¶å€™æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼‰ï¼Œä»¥åŠå…¼å®¹aarch64ç³»ç»Ÿçš„æ‰“åŒ…ç­‰ç­‰ 2. ç³»ç»Ÿé€‚é…ç¬”è€…ä½¿ç”¨çš„æ˜¯ https://github.com/Joshua-Riek/ubuntu-rockchip ä¿®æ”¹è¿‡çš„ï¼Œå¯ä»¥å…¼å®¹å„ä¸ªå‚å•†å‡ºçš„rk3588æ¿å­ï¼Œæ–¹é¢å¥½ç”¨ã€‚å®‰è£…å¥½gitç­‰å¸¸ç”¨å·¥å…·åï¼ŒæŠŠopenpilotçš„ä»£ç cloneä¸‹æ¥ï¼Œç„¶åæ‰§è¡Œtools/ubuntu_setup.shå³å¯å®‰è£…ä¸Šç»å¤§å¤šæ•°çš„ä¾èµ–ã€‚ å¯¹äºrk3588ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„ä¾èµ–éœ€è¦å®‰è£…ï¼Œæ¯”å¦‚mppã€gstreameréƒ¨åˆ†ï¼Œä»¥åŠopencvéœ€è¦é‡æ–°ç¼–è¯‘æ·»åŠ gstreameræ”¯æŒã€‚ç¬”è€…ä½¿ç”¨çš„æ˜¯opencv_headlessï¼Œå‚è€ƒ https://github.com/opencv/opencv/issues/21804 ä½¿ç”¨çš„gstreamerä¾èµ–ï¼š 12345678910sudo apt-get install --no-install-recommends \\ gstreamer1.0-gl \\ gstreamer1.0-opencv \\ gstreamer1.0-plugins-bad \\ gstreamer1.0-plugins-good \\ gstreamer1.0-plugins-ugly \\ gstreamer1.0-tools \\ libgstreamer-plugins-base1.0-dev \\ libgstreamer1.0-0 \\ libgstreamer1.0-dev å¯¹äºrknnçš„è¿è¡Œç¯å¢ƒï¼Œå‚è€ƒç‘èŠ¯å¾®çš„æ–‡æ¡£å³å¯ 3. æ¨¡å‹é€‚é…æ¨¡å‹é€‚é…ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯æ¨¡å‹æœ¬èº«ï¼Œä¸€ä¸ªæ˜¯æ¨¡å‹åŠ è½½çš„ä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬åªè®²æ¨¡å‹æ‰§è¡Œçš„éƒ¨åˆ†ï¼ˆå› ä¸ºæˆ‘å¯¹æ¨¡å‹é‡åŒ–ä¸äº†è§£ğŸ¤¦â€â™‚ï¸ ç°åœ¨commaå…¬å¸åˆ»æ„ç®€åŒ–æ¨¡å‹çš„runnerï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®onnxmodel.pyå¾ˆæ–¹ä¾¿çš„æ”¹å‡ºrknnmodel.pyã€‚ é¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå­—å…¸ï¼ŒæŠŠæ¨¡å‹çš„å‚æ•°éƒ½æ”¾åœ¨é‡Œé¢ï¼Œå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243model_inputs = { &quot;road&quot;: { &quot;input_names&quot;: ['input_imgs', 'big_input_imgs', 'desire', 'traffic_convention', 'nav_features', 'nav_instructions', 'features_buffer'], &quot;input_shapes&quot;: { 'input_imgs': [1, 12, 128, 256], 'big_input_imgs': [1, 12, 128, 256], 'desire': [1, 100, 8], 'traffic_convention': [1, 2], 'nav_features': [1, 256], 'nav_instructions': [1,150], 'features_buffer': [1, 99, 128] }, &quot;input_dtypes&quot;: { 'input_imgs': np.float32, 'big_input_imgs': np.float32, 'desire': np.float32, 'traffic_convention': np.float32, 'nav_features': np.float32, 'nav_instructions': np.float32, 'features_buffer': np.float32 } }, &quot;nav&quot;:{ &quot;input_names&quot;: ['input_img'], &quot;input_shapes&quot;: { &quot;input_img&quot;:[1,1,256,256] }, &quot;input_dtypes&quot;: { &quot;input_img&quot;:np.float32 } }, &quot;dmonitor&quot;:{ &quot;input_names&quot;: ['input_img', 'calib'], &quot;input_shapes&quot;: { &quot;input_img&quot;:[1,1382400], &quot;calib&quot;: [1,3] }, &quot;input_dtypes&quot;: { &quot;input_img&quot;:np.float32, &quot;calib&quot;: np.float32 } }} å†å®šä¹‰ä¸€ä¸ªkeyï¼Œæ ¹æ®æ¨¡å‹æ¥åŒºåˆ†ï¼Œä¾‹å¦‚ï¼š 12345678910111213self.search_key = &quot;&quot;# self.input_names = [x.name for x in self.session.get_inputs()]# self.input_shapes = {x.name: [1, *x.shape[1:]] for x in self.session.get_inputs()}# self.input_dtypes = {x.name: ORT_TYPES_TO_NP_TYPES[x.type] for x in self.session.get_inputs()}if &quot;nav&quot; in path: self.search_key = &quot;nav&quot;elif &quot;dmonitor&quot; in path: self.search_key = &quot;dmonitor&quot;elif &quot;supercombo&quot; in path: self.search_key = &quot;road&quot;self.input_names = model_inputs.get(self.search_key).get(&quot;input_names&quot;)self.input_shapes = model_inputs.get(self.search_key).get(&quot;input_shapes&quot;)self.input_dtypes = model_inputs.get(self.search_key).get(&quot;input_dtypes&quot;) å‰©ä¸‹çš„åº”è¯¥ä½ éƒ½æ‡‚äº†æ€ä¹ˆä½¿ç”¨äº†ğŸ˜›ã€‚ 4. SConscriptä¿®æ”¹rk3588æ˜æ˜¾æ˜¯aarch64æ¶æ„çš„ï¼Œå’ŒC3ä¸€æ ·çš„æ¶æ„ï¼Œä½†ä¸æ˜¯é«˜é€šçš„ï¼Œç”¨ä¸åˆ°SNPEï¼Œæ‰€ä»¥æˆ‘ä»¬æ—¢è¦å…¼å®¹ä¸€éƒ¨åˆ†larch64çš„ï¼Œä¹Ÿæœ‰ä¸€éƒ¨åˆ†linux aarch64çš„ã€‚ ä¾‹å¦‚æ·»åŠ /usr/lib/aarch64-linux-gnuçš„pathï¼Œæ³¨é‡Šæ‰'system/camerad/SConscript'ï¼Œé‡æ–°ç¼–è¯‘third_party/acadosç­‰ç­‰ï¼Œéœ€è¦ä¸€äº›å°è¯• 5. è¿è¡Œå‡å¦‚éƒ½æ”¹å¥½äº†åï¼Œè¿è¡Œ./launch_openpilot.shåº”è¯¥å°±ä¼šçœ‹åˆ°ç•Œé¢äº† å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ã€‚å¦‚æœæœ‰æ¯”è¾ƒå¤šäººå…³æ³¨ï¼Œä¼šå‡ºç¬¬äºŒæœŸè¯¦ç»†çš„å†…å®¹ã€‚","link":"/2024/04/14/%E5%A6%82%E4%BD%95%E5%9C%A8rk3588%E4%B8%8A%E8%BF%90%E8%A1%8Copenpilot-1/"},{"title":"å…³äºé¦™æ©™æ´¾5è¿è¡Œflowpilot","text":"é¦™æ©™æ´¾5æ˜¯ä¸€æ¬¾ä½¿ç”¨ç‘èŠ¯å¾®rk3588çš„å¼€å‘æ¿ï¼Œæœ‰3ä¸ªusbæ¥å£ï¼ˆ1ä¸ªtype-cå’Œtype-aå…¬ç”¨ï¼Œè™½ç„¶4ä¸ªå…¶å®3ä¸ªï¼‰ï¼Œä¸€ä¸ªhdmiæ¥å£ï¼Œä¸€ä¸ªåƒå…†ç½‘å£ï¼Œç­‰ç­‰ åºŸè¯ä¸å¤šè¯´ï¼Œä¸‹é¢æ˜¯å¦‚ä½•å®‰è£…flowpilot å‰ç½®æ¡ä»¶ èµ·ç ä¸€ä¸ªusbæ‘„åƒå¤´ ä¸€å—å±å¹•ï¼ŒHDMIçš„æˆ–è€…mipi dsiçš„éƒ½è¡Œ å…¶ä»–çš„å°±æ˜¯èƒ½è®©Ubuntuç³»ç»Ÿå¯åŠ¨æ‰€å¿…é¡»çš„ç¡¬ä»¶äº†ï¼Œå¦‚ç¡¬ç›˜æˆ–emmcæˆ–sdå¡ï¼Œæ•£çƒ­è£…ç½®ç­‰ å®‰è£…ç³»ç»Ÿè¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ https://github.com/Joshua-Riek/ubuntu-rockchip å¦‚æœä½ æ˜¯ç”¨sdå¡ï¼Œé‚£ä¹ˆåªéœ€è¦æŠŠç³»ç»Ÿddè¿›å»å³å¯å…¶ä»–çš„å‚è€ƒå®˜æ–¹çš„çƒ§å½•æ–¹æ³•ï¼Œæ­¤å¤„ä¸èµ˜è¿° å®‰è£…flowpilotè¿™é‡ŒåŸºæœ¬æ˜¯æŒ‰ç…§ https://github.com/flowdriveai/flowpilot/wiki/Installation æ–¹æ³•è¿›è¡Œçš„ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜è¦å®‰è£…ä¸€äº›é¢å¤–çš„åŒ… 123sudo apt install ffmpeg libavformat-dev libavcodec-dev libswscale-dev \\libssl-dev libcurl4-openssl-dev ocl-icd-opencl-dev libgflags-dev \\libstdc++-12-dev libprotobuf-dev protobuf-compiler æºç å¯ä»¥å‚è€ƒæˆ‘æ›´æ”¹çš„fork https://github.com/0312birdzhang/flowpilot ï¼Œä¸»è¦ä¿®æ”¹äº†ä¸€äº›å…¼å®¹æ€§ï¼Œä»¥åŠæ›¿æ¢äº†openclä¸ºç³»ç»Ÿè‡ªå¸¦çš„,è¿˜æœ‰å°±æ˜¯ç¼–è¯‘äº†aarch64ä¸Šé¢çš„å‡ ä¸ªlibraries é…ç½®æ‘„åƒå¤´å’Œè½¦å‹ï¼Œæ›´æ”¹ launch_flowpilot_new.shï¼Œè¿›å…¥flowpilotçš„ç›®å½•ä¸‹ï¼Œè¿è¡Œpipenv shellï¼Œç„¶åæ‰§è¡Œlaunch_flowpilot_new.shå³å¯ ä½“éªŒæ€»ä½“æ¥è¯´åªèƒ½è¯´è·‘èµ·æ¥äº†ï¼Œç¦»æ—¥å¸¸ä½¿ç”¨è¿˜æ¯”è¾ƒé¥è¿œï¼Œä¾‹å¦‚è®¾å¤‡å‘çƒ­ä¸¥é‡ï¼ˆæ²¡æœ‰ç”¨åˆ°rknpuï¼Œä½¿ç”¨tnnè·‘åªèƒ½è°ƒç”¨GPUæ€§èƒ½è¦æ¯”è°ƒç”¨NPUå·®ç‚¹ï¼Œéœ€è¦å†™JNIæ¥è°ƒç”¨rknpuè·‘ï¼Œæš‚æ—¶æ²¡ç²¾åŠ›ç ”ç©¶è¿™éƒ¨åˆ†äº†ï¼‰ã€è¿˜æ²¡æœ‰é©¾é©¶å‘˜ç›‘æ§ã€ä¸Šæ¸¸è¿›åº¦ç¼“æ…¢ç­‰ç­‰ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿè½¬å‘åŸç”Ÿopenpilotä¸Šäº†ã€‚","link":"/2023/10/18/%E5%85%B3%E4%BA%8E%E9%A6%99%E6%A9%99%E6%B4%BE5%E8%BF%90%E8%A1%8Cflowpilot/"},{"title":"æœ€é è°±çš„Tomcatæ—¥å¿—åˆ‡å‰²æ•™ç¨‹","text":"å¼ºå¤§çš„logrotateæ›´å¤šlogrotateçš„è¯´æ˜è§ http://www.linuxcommand.org/man_pages/logrotate8.html æˆ–è€…è¿™é‡Œ https://linux.cn/article-4126-1.html åœ¨/etc/logrotate.d/tomcaté‡Œå†™å…¥ä¸‹é¢çš„å†…å®¹ 12345678910/data/logs/logpath/catalina-daemon.out { daily rotate 3 size 100M nocompress notifempty missingok copytruncate create 0600 root root} æµ‹è¯• logrotate --force /etc/logrotate.d/tomcat.conf æŸ¥çœ‹æ˜¯å¦æœ‰ä¸€ä¸ª/data/logs/logpath/catalina-daemon.out.1ç”Ÿæˆ ä¸ºä»€ä¹ˆä¸ç”¨cronolog?å¾ˆç®€å•ï¼Œcronologå¯¹jsvcå¯åŠ¨çš„tomcatä¸å‹å¥½","link":"/2017/05/22/%E6%9C%80%E9%9D%A0%E8%B0%B1%E7%9A%84Tomcat%E6%97%A5%E5%BF%97%E5%88%87%E5%89%B2%E6%95%99%E7%A8%8B/"},{"title":"å®‰è£…RemixOSåˆ°PC","text":"ï¼ä¸€å®šè¦ç”¨UEFIæ–¹å¼å¯åŠ¨ï¼Œå‰ææ˜¯64ä½çš„ä¸‹è½½é•œåƒhttps://www.fosshub.com/Remix-OS.html åˆ»å½•åˆ°Uç›˜è§£å‹ä¹‹åæœ‰ä¸€ä¸ªisoæ–‡ä»¶ä¸€ä¸ªexeæ–‡ä»¶ï¼Œæ¨èç”¨ultraisoå®‰è£…ï¼ˆç”¨é‚£ä¸ªexeä¼šæŠŠUç›˜åˆ†æˆä¸‰ä¸ªåŒºã€‚ã€‚ã€‚æœ‰ç—…å—ï¼Ÿï¼‰ ä¿®æ”¹å‚æ•°Uç›˜å¼€æœºå¯åŠ¨ä¹‹åï¼Œé€‰æ‹©â€Resident/Guest modeâ€ï¼ŒæŒ‰TABé”®æˆ–eé”®ï¼Œåœ¨å‘½ä»¤æœ€åæ·»åŠ â€INSTALL=2â€ï¼Œåˆ æ‰â€USB_DATA_PARTITION=1â€ æ¥ä¸‹æ¥ç³»ç»Ÿä¼šå®‰è£…åˆ°ç¡¬ç›˜ä¸Šã€‚","link":"/2017/05/26/%E5%AE%89%E8%A3%85RemixOS%E5%88%B0PC/"},{"title":"ç”¨PythonæŠ“å–ç‹å çš„åšå®¢","text":"ç›´æ¥ä¸Šä»£ç ï¼ˆç”±äºä»–åšå®¢æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨mechanizeï¼‰#!/usr/bin/env python # -*- coding: utf-8 -*- &apos;&apos;&apos; Created on 2017å¹´5æœˆ24æ—¥ @author: BirdZhang &apos;&apos;&apos; from bs4 import BeautifulSoup import mechanize import cookielib from wyblog import BLOG_URL class NoHistory(object): def add(self, *a, **k): pass def clear(self): pass def getBrowers(): br = mechanize.Browser(history=NoHistory()) #options br.set_handle_equiv(True) #br.set_handle_gzip(True) br.set_handle_redirect(True) br.set_handle_referer(True) br.set_handle_robots(False) cj = cookielib.LWPCookieJar() br.set_cookiejar(cj)##å…³è”cookies br.set_handle_refresh(mechanize._http.HTTPRefreshProcessor(), max_time=1) br.set_debug_http(False) br.set_debug_redirects(False) br.set_debug_responses(False) br.addheaders = [(&quot;User-agent&quot;,&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36&quot;)] return br if __name__ == &quot;__main__&quot;: br = getBrowers() r = br.open(BLOG_URL) html = r.read() # print html soup = BeautifulSoup(html,&quot;html5lib&quot;) lis = soup.find_all(name=&apos;li&apos;,attrs={ &quot;class&quot;:&quot;list-group-item title&quot; }) for i in lis: print i.a[&quot;href&quot;],&quot; &quot;.join(i.a.contents) å‰©ä¸‹çš„è‡ªå·±è¯¥å¹²å˜›å¹²å˜›å§ åé¢å¹²è„†æ’¸äº†ä¸€ä¸ªæ——é±¼çš„å®¢æˆ·ç«¯https://github.com/0312birdzhang/harbour-blogofwy","link":"/2017/05/24/%E7%94%A8Python%E6%8A%93%E5%8F%96%E7%8E%8B%E5%9E%A0%E7%9A%84%E5%8D%9A%E5%AE%A2/"},{"title":"éšç¬”","text":"æˆ‘åªæ˜¯å ä¸ªtagå‘â€¦ğŸ˜‚","link":"/2017/05/24/%E9%9A%8F%E7%AC%94/"},{"title":"è‡ªåŠ¨æ¸…ç†k8sä¸­çš„å®¹å™¨ã€å·ã€é•œåƒ","text":"é•œåƒæºç  https://github.com/meltwater/docker-cleanup æ³¨æ„ï¼šè¿™ä¸ªé•œåƒä¼šå°†æ‰€æœ‰å·²ç»é€€å‡ºçš„å®¹å™¨ã€æœªä½¿ç”¨çš„é•œåƒå’Œdata-onlyçš„å®¹å™¨ï¼Œé™¤éä½ å°†ä»–ä»¬åŠ åˆ°ä¿å­˜çš„å˜é‡ä¸­ã€‚æ³¨æ„æ­£ç¡®é…ç½®docker apiçš„ç‰ˆæœ¬ï¼Œä»¥å…åˆ é™¤æ‰€æœ‰çš„é•œåƒã€‚å°å¿ƒæŒ‚è½½ /var/lib/dockerï¼Œå› ä¸ºå¦‚æœæŒ‚è½½åæ²¡æœ‰ä½¿ç”¨çš„è¯ï¼Œä¹Ÿä¼šè¢«å½“ä½œæœªä½¿ç”¨çš„å·åˆ æ‰ã€‚æ”¯æŒçš„å˜é‡ CLEAN_PERIOD=1800 - Interval in seconds to sleep after completing a cleaning run. Defaults to 1800 seconds = 30 minutes. DELAY_TIME=1800 - Seconds to wait before removing exited containers and unused images. Defaults to 1800 seconds = 30 minutes. KEEP_IMAGES - List of images to avoid cleaning, e.g. â€œubuntu:trusty, ubuntu:latestâ€. Defaults to clean all unused images. KEEP_CONTAINERS - List of images for exited or dead containers to avoid cleaning, e.g. â€œubuntu:trusty, ubuntu:latestâ€. KEEP_CONTAINERS_NAMED - List of names for exited or dead containers to avoid cleaning, e.g. â€œmy-container1, persistent-dataâ€. LOOP - Add the ability to do non-looped cleanups, run it once and exit. Options are true, false. Defaults to true to run it forever in loops. DEBUG - Set to 1 to enable more debugging output on pattern matches DOCKER_API_VERSION - The docker API version to use. This defaults to 1.20, but you can override it here in case the docker version on your host differs from the one that is installed in this container. You can find - this on your host system by running docker version --format '{{.Client.APIVersion}}'. å¯¹äºå³ä½¿å·²ç»ä¸è¿è¡Œäº†ä¹Ÿä¸æƒ³æ¸…ç†çš„é•œåƒï¼Œä½¿ç”¨KEEP_IMAGESå˜é‡å¤„ç†ï¼Œæ­¤å¤„æˆ‘ä»¬æ·»å†™ï¼š vmware/harbor-*:*,*calico:*,*registry:*,*kubernetes-dashboard-amd64:*,*nginx-ingress-controller:*,*cvallance/mongo-k8s-sidecar:* docker-cleanup-daemonset.yaml é…ç½®å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647apiVersion: extensions/v1beta1kind: DaemonSetmetadata: labels: name: clean-up name: clean-up namespace: kube-systemspec: updateStrategy: type: &quot;RollingUpdate&quot; rollingUpdate: maxUnavailable: 1 template: metadata: labels: app: clean-up spec: tolerations: - key: &quot;LB&quot; operator: &quot;Exists&quot; effect: &quot;NoExecute&quot; volumes: - name: docker-sock hostPath: path: /var/run/docker.sock - name: docker-directory hostPath: path: /data/kubernetes/docker containers: - image: meltwater/docker-cleanup:latest name: clean-up env: - name: CLEAN_PERIOD value: &quot;1800&quot; - name: DELAY_TIME value: &quot;60&quot; - name: DOCKER_API_VERSION value: &quot;1.29&quot; - name: KEEP_IMAGES value: &quot;vmware/harbor-*:*,*calico:*,*registry:*,*kubernetes-dashboard-amd64:*,*nginx-ingress-controller:*,*cvallance/mongo-k8s-sidecar:*&quot; volumeMounts: - mountPath: /var/run/docker.sock name: docker-sock readOnly: false - mountPath: /var/lib/docker name: docker-directory readOnly: false","link":"/2017/12/08/%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86k8s%E4%B8%AD%E7%9A%84%E5%AE%B9%E5%99%A8_%E5%8D%B7_%E9%95%9C%E5%83%8F/"},{"title":"æ¸…ç†kubernetesä¸­æœªæ­£å¸¸é€€å‡ºçš„pod","text":"é•¿æ—¶é—´è¿è¡Œçš„k8sèŠ‚ç‚¹å¯èƒ½ä¼šå­˜åœ¨æŸäº›podä¸è‡ªåŠ¨é€€å‡ºï¼Œä¸€ç›´å¤„äºTerminatingçš„çŠ¶æ€äºæ˜¯æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªè„šæœ¬å®šæ—¶è¿›è¡Œæ¸…ç† 123456789101112131415161718192021222324252627282930313233#!/bin/bash################################ clean terminated pods ###### run at you own risk ! ################################export PATH=/usr/local/cfssl/bin:/usr/local/docker/:/usr/local/kubernetes/:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bingetns(){ namespaces=`kubectl get namespaces|grep -v &quot;NAME&quot;|awk '{print $1}'` for n in ${namespaces}; do pods_str=`kubectl get pods -n ${n}|grep &quot;Terminating&quot;` IFS=$'\\n' read -rd '' -a pods &lt;&lt;&lt;&quot;$pods_str&quot; if [ -n &quot;$pods&quot; ]; then getpod ${n} $pods; fi done}getpod(){ ns=$1; for podinfo in $2; do pod=`echo $podinfo|awk '{print $1}'` delpod $pod $ns; done}delpod(){ echo &quot;kubectl delete pods $1 -n $2 --grace-period=0 --force&quot; kubectl delete pods $1 -n $2 --grace-period=0 --force}main(){ getns}main","link":"/2018/07/03/%E6%B8%85%E7%90%86kubernetes%E4%B8%AD%E6%9C%AA%E6%AD%A3%E5%B8%B8%E9%80%80%E5%87%BA%E7%9A%84pod/"},{"title":"è®°å½•ä¸€æ¬¡Signalä½¿ç”¨ä»£ç†çš„è¿‡ç¨‹","text":"åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•ï¼ŒæŒ‰ç…§ä¼ ç»Ÿçš„æ€è·¯ï¼Œåœ¨cmdé‡Œé¢è®¾ç½®å¦‚ä¸‹å‘½ä»¤ç„¶åå¯åŠ¨ 12set HTTP_PROXY=http://127.0.0.1:1081set HTTPS_PROXY=http://127.0.0.1:1081 ç»“æœå¹¶ä¸è¡Œï¼Œç„¶åæˆ‘å‘ç°äº†è¿™ä¸ª https://github.com/signalapp/Signal-Desktop/pull/1855 123set HTTPS_PROXY=http://127.0.0.1:1081set WSS_PROXY=http://127.0.0.1:1081set ALL_PROXY=http://127.0.0.1:1081 ç„¶åå°†Signal.exeæ‹–è¿›cmdï¼Œenteråå°±å¯ä»¥æ­£å¸¸äº†ã€‚","link":"/2022/12/08/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1Signal%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E7%9A%84%E8%BF%87%E7%A8%8B/"},{"title":"æœ€è¿‘çš„ä¸€äº›æ„Ÿæƒ³","text":"588dfb6650788b975e11fc536eb1ebc1a8418ace6eaf61bb6f627f926f2b5de47a239c9621a3086f210e4acf857d4524c2250eea43287c82dacfb21ce12ae62b0b00127e7d9d0ea0b81c0a7902cc8a08450713cac35cab4c2e204c44edd57be460517246ca9c371f09ff318d242161c1d58d0ede31ddb91bdb70fe7072781d45fb4e32cb693bdbad4dffae038550a4a384cfd6ec7d5299e41db6893008d0f355826fb64f6559ba9165ca604bb96d4286e9b462f5c9fbda2e82ca8fa8de84bc5e5a128a5e8f3ed7dedf9e3eeb5b85c7077cbd2486c4abada36adc057f4e1107f2d24c37e0440cbf1a4e3c9ec4925b0c2c26c764e3e0d77a46a5ed0e3b69f2f9bb96bf71cb7deeadfdfded64b0b9d0ff3a0ee5490bebd8e9932d5f6ba799a9f8e37ad1d580462827b12466154a0cf040ef5f7b3d18ac66db6e986b18138b599de8029bd06f2883f60d977ff0bde2b4444b2e0de3e385d1bad0723b7fca758783264553637ed7c86eb48223c5ca1e492383dee55864030829d19544aaa924cea9a33227c1a89e1bbb3947bc487daf918d771b9dd21e6fb6ad069d850a13ae09f2d772614ecdc6d4ff22673aaacf50431ee66616c866e51142af6790c3b604f0ce1ea8c927eb2f077efeb4d2c1b9ffe4fcfb1ba410fe1fbce65cf16c7023dfa45eacbcae85d55e87e0c2f6e7181550184d576c3ccd8dec83bf3354b53fc2ccb5421cf8a5296036a3142548f1a5b2d9d7372c56ca3ee6f9fa7634483e89afa0259c201e47014875e42e2a28487c6578ec04f59ea0d8a0d1e559906fc63b6af9dd35435c5f373805536d88acf71adec271ef5fd7d6a3bfa5d67aa8a901059231d5ca2128998c33431e70a8c36c7d847097893c5c74441f09e45b7764b928ba3f40c4920e849e9654189357094ec5dbbafa4c09409bf5ffee6802cdc7320dc9810f9748090feef6564af4a7757ca3b2426fcbcc247e7afd26362bd6f3b9968b2c0ad066906640f3ce5b38dd9f0c86c01ebbe9d5e006610e6031e1e34bd9f6a3be7866e7bc78b5af812381171f5074444d4b0a63f85b6c1e0dec3f10c1ba7c72b10143586568fbb585ca85e1cf0070230598d5b8d1648f90eb46a469443ba79ed5642f8744549fa272150e36535e7b973d1a39a102053fa435663a9969c78c9a8060e57d7b628ac313707e536a6b241bcde2fa62c4d05b324904a72657eac1ccd93670899e4a967655189c139b481ef0b729ef2578758fbfec42d9ae440e889261c3968f89ee5139efb56d2222511309a123e7406f57666eabf483cdcecbcd1e868d3078c5900234ed4e9b9fd18d654a0bbc5f8dbc8b16d87c28c0a84ae59e125f09ad2c2b8980946b050b7fbac6ec1cb8e2b729c554d60b32e31103b9022dc0535add69028daf084e5a3b49f1dc6dab40a572471fa3ca9ed2dfa10eb3978c5b74aa98235e42be9e20bd33093f7c6c8419e77fcda38e743c6003b19ed31b45ad8b731122ccda3497b13a74ed5d16a57574c1c3d93c70e23a3e7137f4d4d69019c76c801dd993a91ec3c0cb3b3f2eed008b464f30ad8fc9c9657efefca5f9a0ed6745fcc07471dff1d2e5df11f5f6e29eafcce708399df535e162bd68549cc094fe3f87bc4fc2948028a8eb1f33df443d6eb422600b3fe4776091bb8a81ba2e8424cee496a064cb508e4ea272e55a249d99e87bf91e138a95b5b5e3b72af20f6a2e98533c5aec0dcf84ef23d2bc291086c90731641530fb91bf7f9db2ade6215bc232e19e5ee64763c6055aa0d4dd3b8f34dc6f46764981133bcddc28724ede691657288a08051976fa6c37c485c73d6942a95fb34c086965cba29fe0994c76f7a605d1231a3c79370952aadcee2e9ec4b29d8caedb5238c0e1aeb95c89ade40618398f8fbc6a8c411d366b7455025784e70a2f2d113dbac69d2dd242e6c64b42d3d5245e121797954de83d6c0409b7acf083600756143aaeec24e489538b281773649c38548ac1fd9757ba19e354165eeece117ce1bbbc34854afae5e5fad1657f61b1a009024bbd59ff11b9587e0e28b8786d532bfc0d881ef638a137de82919d64ba91b0cb6681f4cc5f3fc5144af533d4d9728c3ce239f3332175babef1aff800d59cbd9701dd47318686a58478db7e75053137652547e88a4ee4992bdc8e0159a6527527c2256e980f652e193fa709e1823d364ac0585d011bf1310af0491fd9c7260a9ddb6db3426cc5012abc05e73ba78d4e325cafd010f71d9fdc08e1ff35f0a7e2579e02001151fcf02da1b11dca9229fb271774c62f2b8954c39f9c75f02344ac8ff3e03be2a10937e847677ab1028b7851ab6b1d3e6b095950c38ff889211241b1821b49e9a18894f9d1bb239d96e1abe3aa000a2eecdd33365df809bdda8eac55694ba53c21528d9d353ba027f9c39b9cece73bf74f251cce985e36c2899854344bf4b55e164f2ed16dfdbc07353ca050b914fd28ac3fcdddbfebca2bbf3fd1eee8ea3d847077404eba0b011c6658b0759d656f971f42375c746b29468563874d17f07e6e1228c4e320aa1fbfdd9105d5f7f42e58d1a45344863c7a920a260c3a28f2c881956cdb02883d07e616a9dec6c1f16578e800ae16a1b30c6e304fdbee0b6d9a174f4262ab9a54158194ea05443241fd2acf68d7c0a463646344a8ff997cc274ad84e93922823608681ebdbe4f844212243ac50629bf97165003dec288596be057c7c687b71df46e761afad96ce60ae0288f752afc8b46e3e5e39d35fea44c9109daaecc9e4efdbadf7cd01cfa523c198e4bec764131c285212d7cc0d1a5d4049e29a2aeef538bc36458a487b60504c9a7e73a4c3581d31862e301a268ee166309d249b1913a1ddb426c54f9ee52251767741c22cdc50586a0a37edd7d524f43dcbf96c01a2ba6073f041f5012680c4fe273203ce2f77bde2cef13371868841ea1c5c9190c6f5de45a0487459ec29a4f11f81d33bbbd0b040fe10bafcc29f362e1426b7b3ab60c0cbc1f9ca978b9db72be321a7f2327abf20aea3392766ed2f62c2bfab1136904cd74287cca3e1a9eb57b5868c89451a44202c122fd18af179242193c591ba5faabdbadecd0b820396a608043aa5efdc80060ca0309120466396ee5a324b83f20c045e383d5ed747b6ab85081dab32d6065a65e7f14d5a023c9aa2bc0a9d234628b505844cf1e6fb44edc2f3ac3bbf990248cf32b9ec324c5ab1fbc87cac0700670888c8b7af72deec86a742eb3951a3bd9976267876d12bcf1630cab57670ffdb9a5a50cbbdfc0fc86f682fa4e530858c420445f85838c83d0f37e918b8ae38cec1aef993f093b6440c54a3db91c6ec280781674f942caa345d834ddce8489dc41ab5e8b636f1952523ea77fa31d6418e8a91018d425bd9b99dae4b6d6bfa33ee21a9da8ab1f0365e1ea250fe60aeb07137c3b6e867430b07dab45f789e237f43121ff7cb9e7a86af5e0c9c074b00c49cc4ff07d400da8978bd416b329d4a70e6cf99d2370f3a9f02c094a6c9d4a1a1a76a86198d4a1503957048238fa04c751b5eea15779d645067423a42efc07ecdd836f103039fb375f5f52fc21fde1bf7765d5b52bf9bfbed659811d0d35bc2ff25ad87ca311a64a6d93215fb05844bebe180125426dfe4935a4d7a552a635a05509024beb2bd3be2afef62b9d198d84d334b9f1a8eb83c21f16c0d49a7f978d06debf7cfc8ce59172e9fbc573fd6c387c5d8ab5e52f7033f65a8854fd5002b922b9c8a24c2a3be4e036e580b81c450329a6e78a555b6cae0030013669fab6828505122a65ac67f5af146582715ac3cd2f420739505d4d855a5f3288467a758e0b6cdc5fa5ac3dcc63894f6937a318eff8f373238a25d3ac6c75f0abcceafe6f8bf7c153b0f12211e71aff66dd5ee223abef1ad3e3003254a881a579cf96ba12cf4d7b81df71817bd3719acbea3ed09dfd2cd21099cf7cf9f8b23c1065577a096429256a4b3d65e927328112df595d1634aa95f877350da00b9c4e00c939837b4a5c47d1b3343233271139c8350050f64ad9a6b85a729736d38bd77edf0ef6dcc99fb06d1a7f020abf979d37415c149722ec71723dca407f32cb1e861f50897dc632c3a92f5e1fa4b208483f483dd66ad710a640f480263607f69b3e95e0a84062efbc610eaab0495f640c25404a69f9747b9063c4c87791943c4dba80cd3b8693116305cba100e742ef38ae52949c3a7ba2b0e256a3b0eafd776e3bf1e051784d42efd49fe101347ecaa7792c87df21c038818485eaffcf54c77a781b8752068874470e540be6afff5e3289ddc6074bbaba97896e5f5502a319b67d56984929703f32b484f05c70c532f84e738a8972bc19471e0c09927e44ac8f3f8708b11857437a74d60c000f3d822e14b8a7b5b6f41955587e5af3dce2276fefd4815bce4b4d930b997eceb8d91df6854969a4fd66d84c5ff2f8765104b05d8eed734abdaba6164a58bdad71363fc9bbeb7d4100931f8c40c78707a28fcc9db8e9124c539a8b3c11bb4d2fd9243cc3a27768f715786ed18694bd393766362077432bd3fd0eb5a92f9b7ee43f3f8e3dde4b0a839d76c86393dbecc0d5b9253b8ad7e4d004b9f59b6ee8f3f7683c5fd240bbb8c219275242f9d370eef75defeeb7fcaf91dabd061db3ec3a5fe3bdde67a3a202708c099c3a00f31be7e272452fd6affe391110abf7a9b048b3f7ddac860c26bdafe651fe19d3e103740e3d92ddc2913cc48504698824dd8be8438c77d373ed26c7acaff02bbcdf11fd931631800ab5dc77e61f344fe2370ccf52517e5726083fa3f97bc425c06e16c24a8a6741c3ab9ad8cf90f0b86e6282ae4d8b6a75ad3bee5a4e210ec6a6499d6f99572c7da94c8b39d03305f423a65be48930eabcdd332e26e52371486affee311f8761565a0a91cd75df842f98f576334f96b302bf70ec2e51fd873b4e33554ae140667d0443adc1f9acf7cb3995b78e4088c32b808abd7366386a99acd48684c1caf82330f760feb02e4a078a848a364fddbcae5f4fb9ebb70baf0b6e86df5e7f0a9670f97d0282d88968b57c1e530dee7006cfff340fa2cd8859cd90ab0e95ae5a12ea5b7af34ae5825376a44cc3c9dc1913a215c8c75bf00bec185345a9963db618fbcbe3fafed57753cc41bfc6718bfc108f9009dc2e207faf8264fd4d9a1b5dd6340360b7913d43ce9920c8ba163f9693f2405fe4c5e441c82e3ccd9fe59e286e4a60b8e7e002a3b27e7fff69e960b0f75f05a0d1140b4c20aba683df2e23a3c959e1f695bb5ccad77150d3e34e09fd8a1ded89bed5c8d50ec995452c27b2c2982eae1a75afceb96d1bec002376fd423430268d27a2ed633d12dc96dd671b25db9bb7ad0bd1edf44926fe9536c48225caa7ebd4b0a8f795f6e0e411fd7f6a791a31a2880a72fa40ef66cb742f1dbc8663f0e66c40fd4bc4fecb2a7f74491e91b6074c137e9278b0398667067b2859c996031f588057d97bbad9b9b6a2850ecfb0169802cb57fa265214b9fe4db2ae86a55fa0a58135eeb33a448c683692e02c3f8d4785dd479144a8c7b439e08bb4ad706d2b2f819d7e112ecdfc7f9de8657713bc32b15a13ba0e1d6028a2d577a876f9e072ce30359d336e09b5e7c7bb88c8924ba7b6ced14226028d03184161d688505b7df7b0a4a7d06e83b265d75db4ebc613d2bf6569c4042928fa020716c8febdd23b01c98e4f6b782ce5d71598139d7caf1facbe169dc9bd6a6d47c7b7beb9bc91a7828d533be756e9fdfde286ce2d922f08b3522e19ed87e8c38a0b331b469ba678c2b17aa56ed6a612bd1583312a9333a9e42436bc00849452680798803cf98c82e727a0946b091e7ecbcf985e63332f86e6c040a6d18555a4ec46084af5ae26c8148f5fd379adf4f3c50354a55e3f40f8857e11e3afb853f4ac612d768c836a2ab397e64791de80a8e9911d326ac4a2c35cff2a1fe3f1ef1dff9a288a189fecf770d992921dcface7f1dc5f843ca7b0b8af2264de6f5da9d1d421b45f19d587d6e77a4de910a28f23db4b5a8beca7b0c47f6c13677c0aa4e51bc525cca829e175ae4e9b3aafd74f5b7e97a7f783a46b89bfbe7c74574d5ac3f82c15bdfcfee261924114a6bbd485a11b9151ce268d0bc153b190dc4fe21528303852edaf42290e41098a113deeb88b75714761e42ef4ab987a13651015dbcf43594c5bf02b9f0225aca8001e7b1f4da9a8dbad9771d60b5edef9549afba8c75bceb76355f19d8713a3a4143e421e3f110a9856fc867940be3481890e305d07d3318538fcdbdf324d1704e1c4a0940962 Hey, password is required here.","link":"/2022/01/21/%E6%9C%80%E8%BF%91%E7%9A%84%E4%B8%80%E4%BA%9B%E6%84%9F%E6%83%B3/"}],"tags":[{"name":"gitlab","slug":"gitlab","link":"/tags/gitlab/"},{"name":"drbd","slug":"drbd","link":"/tags/drbd/"},{"name":"docker","slug":"docker","link":"/tags/docker/"},{"name":"sailfishos","slug":"sailfishos","link":"/tags/sailfishos/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"json","slug":"json","link":"/tags/json/"},{"name":"nginx","slug":"nginx","link":"/tags/nginx/"},{"name":"openresty","slug":"openresty","link":"/tags/openresty/"},{"name":"httpservletrequest","slug":"httpservletrequest","link":"/tags/httpservletrequest/"},{"name":"æ”¹å†™","slug":"æ”¹å†™","link":"/tags/%E6%94%B9%E5%86%99/"},{"name":"å‚æ•°","slug":"å‚æ•°","link":"/tags/%E5%8F%82%E6%95%B0/"},{"name":"cas","slug":"cas","link":"/tags/cas/"},{"name":"https","slug":"https","link":"/tags/https/"},{"name":"crt","slug":"crt","link":"/tags/crt/"},{"name":"sailfish","slug":"sailfish","link":"/tags/sailfish/"},{"name":"redmi","slug":"redmi","link":"/tags/redmi/"},{"name":"davinci","slug":"davinci","link":"/tags/davinci/"},{"name":"hadk","slug":"hadk","link":"/tags/hadk/"},{"name":"k20","slug":"k20","link":"/tags/k20/"},{"name":"lineage-16.0","slug":"lineage-16-0","link":"/tags/lineage-16-0/"},{"name":"hybris-16.0","slug":"hybris-16-0","link":"/tags/hybris-16-0/"},{"name":"xiaomi","slug":"xiaomi","link":"/tags/xiaomi/"},{"name":"9t","slug":"9t","link":"/tags/9t/"},{"name":"python","slug":"python","link":"/tags/python/"},{"name":"vince","slug":"vince","link":"/tags/vince/"},{"name":"redmi5plus","slug":"redmi5plus","link":"/tags/redmi5plus/"},{"name":"lineage-15.1","slug":"lineage-15-1","link":"/tags/lineage-15-1/"},{"name":"hybris-15.1","slug":"hybris-15-1","link":"/tags/hybris-15-1/"},{"name":"tomcat","slug":"tomcat","link":"/tags/tomcat/"},{"name":"trustcacerts","slug":"trustcacerts","link":"/tags/trustcacerts/"},{"name":"windows","slug":"windows","link":"/tags/windows/"},{"name":"frp","slug":"frp","link":"/tags/frp/"},{"name":"rdp","slug":"rdp","link":"/tags/rdp/"},{"name":"unix","slug":"unix","link":"/tags/unix/"},{"name":"kubernetes","slug":"kubernetes","link":"/tags/kubernetes/"},{"name":"vmvare","slug":"vmvare","link":"/tags/vmvare/"},{"name":"okcaros","slug":"okcaros","link":"/tags/okcaros/"},{"name":"apt","slug":"apt","link":"/tags/apt/"},{"name":"debian","slug":"debian","link":"/tags/debian/"},{"name":"ubuntu","slug":"ubuntu","link":"/tags/ubuntu/"},{"name":"irc","slug":"irc","link":"/tags/irc/"},{"name":"è·³è¿‡","slug":"è·³è¿‡","link":"/tags/%E8%B7%B3%E8%BF%87/"},{"name":"subprocess","slug":"subprocess","link":"/tags/subprocess/"},{"name":"opensips","slug":"opensips","link":"/tags/opensips/"},{"name":"voip","slug":"voip","link":"/tags/voip/"},{"name":"sip","slug":"sip","link":"/tags/sip/"},{"name":"è½¦æœº","slug":"è½¦æœº","link":"/tags/%E8%BD%A6%E6%9C%BA/"},{"name":"äººç”Ÿ","slug":"äººç”Ÿ","link":"/tags/%E4%BA%BA%E7%94%9F/"},{"name":"iphone","slug":"iphone","link":"/tags/iphone/"},{"name":"ios","slug":"ios","link":"/tags/ios/"},{"name":"jolla","slug":"jolla","link":"/tags/jolla/"},{"name":"è¿ç§»","slug":"è¿ç§»","link":"/tags/%E8%BF%81%E7%A7%BB/"},{"name":"migrate","slug":"migrate","link":"/tags/migrate/"},{"name":"linux","slug":"linux","link":"/tags/linux/"},{"name":"socks5","slug":"socks5","link":"/tags/socks5/"},{"name":"lua","slug":"lua","link":"/tags/lua/"},{"name":"pastebin","slug":"pastebin","link":"/tags/pastebin/"},{"name":"k8s","slug":"k8s","link":"/tags/k8s/"},{"name":"ip","slug":"ip","link":"/tags/ip/"},{"name":"yavijava","slug":"yavijava","link":"/tags/yavijava/"},{"name":"java","slug":"java","link":"/tags/java/"},{"name":"openpilot","slug":"openpilot","link":"/tags/openpilot/"},{"name":"js","slug":"js","link":"/tags/js/"},{"name":"coinhive","slug":"coinhive","link":"/tags/coinhive/"},{"name":"rk3588","slug":"rk3588","link":"/tags/rk3588/"},{"name":"Tomcat","slug":"Tomcat","link":"/tags/Tomcat/"},{"name":"android","slug":"android","link":"/tags/android/"},{"name":"x86","slug":"x86","link":"/tags/x86/"},{"name":"remix","slug":"remix","link":"/tags/remix/"},{"name":"python2","slug":"python2","link":"/tags/python2/"},{"name":"éšç¬”","slug":"éšç¬”","link":"/tags/%E9%9A%8F%E7%AC%94/"},{"name":"Terminating","slug":"Terminating","link":"/tags/Terminating/"},{"name":"signal","slug":"signal","link":"/tags/signal/"}],"categories":[{"name":"SailfishOS","slug":"SailfishOS","link":"/categories/SailfishOS/"},{"name":"Java","slug":"Java","link":"/categories/Java/"},{"name":"Nginx","slug":"Nginx","link":"/categories/Nginx/"},{"name":"Docker","slug":"SailfishOS/Docker","link":"/categories/SailfishOS/Docker/"},{"name":"Python","slug":"Java/Python","link":"/categories/Java/Python/"},{"name":"Tomcat","slug":"Java/Tomcat","link":"/categories/Java/Tomcat/"},{"name":"Irc","slug":"Irc","link":"/categories/Irc/"}]}